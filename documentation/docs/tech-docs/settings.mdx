---
id: settings
---

import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'
import CodeBlock from '@theme/CodeBlock'
import dedent from 'ts-dedent'
import { YamlModal } from '@site/src/components/YamlModal/YamlModal'
import { getBasePrefix } from '@site/src/utils/getBasePrefix'
import { FancyboxImage } from '@site/src/components/commonBlocks/FancyboxImage'

# Настройка

---

## Работа с ресурсами

Основу любого **Kube-native интерфейса** составляют ресурсы Kubernetes.
Чтобы UI мог динамически отображать данные, необходимо стандартизировать подход к их описанию, контексту и области действия.

<h3>Области видимости</h3>
Область видимости определяет контекст интерфейса, в рамках которого выполняются действия пользователя.

:::info Пояснение

- **STOCK** — базовая область интерфейса, где происходит основная работа.
  Она делится на два подтипа:

  - **cluster** — когда не указан Namespace или в переключателе выбран режим _All Namespaces_. В этом случае при просмотре ресурсов нужно, например, показывать дополнительный столбец `Namespace`.
  - **namespace** — когда выбран конкретный Namespace. Тогда колонка `Namespace` уже избыточна и скрывается.

- **INSIDE** — дополнительная область интерфейса, обычно предназначенная для административных задач.
  Администраторы могут описывать её по тем же принципам, что и STOCK, но адаптировать под свои нужды.
  :::

<table>
  <thead>
    <tr>
      <th>Префикс</th>
      <th>Значение</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>stock</code>
      </td>
      <td>Пользовательский UI</td>
    </tr>
    <tr>
      <td>
        <code>inside</code>
      </td>
      <td>Административный UI</td>
    </tr>
    <tr>
      <td>
        <code>namespace</code>
      </td>
      <td>Объекты в пространстве имен</td>
    </tr>
    <tr>
      <td>
        <code>cluster</code>
      </td>
      <td>Объекты типа ClusterScope или Namespaced во всех Namespaces</td>
    </tr>
  </tbody>
</table>

<h3>Типы страниц</h3>

В Kubernetes существуют две разные механики доступа к ресурсам: **builtin** и **api**.

- **builtin** — это базовые ресурсы, доступные по URI `/api/v1`.
  К ним относятся стандартные сущности Kubernetes: `Pods`, `Secrets`, `Services` и т. п.

- **api** — это все ресурсы, доступные по URI вида:
  - `/apis/{apiGroup}/{apiVersion}/{kind}`
  - `/apis/{apiGroup}/{apiVersion}/namespaces/{namespace}/{kind}`

<table>
  <thead>
    <tr>
      <th>Тип</th>
      <th>Назначение</th>
      <th>Пример запроса</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>api-form</code>
      </td>
      <td>
        Форма создания ресурса (<code>/apis/...</code>)
      </td>
      <td>
        <code>apps/v1/Deployment</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>api-table</code>
      </td>
      <td>
        Таблица ресурсов (<code>/apis/...</code>)
      </td>
      <td>
        <code>batch/v1/Job</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>builtin-form</code>
      </td>
      <td>
        Форма для <code>core/v1</code>
      </td>
      <td>
        <code>v1/Pod</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>builtin-table</code>
      </td>
      <td>
        Таблица для <code>core/v1</code>
      </td>
      <td>
        <code>v1/Service</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>factory</code>
      </td>
      <td>Выделенные страницы фабрики</td>
      <td>empty</td>
    </tr>
  </tbody>
</table>

---

## Визуализация абстракций

Прежде чем углубляться в используемые нами абстракции, попробуем набросать их визуальное представление на основе следующих скриншотов.

<figure style={{ textAlign: 'center', display: 'contents' }}>
  <FancyboxImage
    src={`${getBasePrefix()}img/in-cloud/interfaces/describe-interface-1.drawio.svg`}
    style={{ width: '100%', maxWidth: 'none' }}
  />
  <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
    Пример страниц с кратким расположением элементов CustomColumnsOverride
  </figcaption>
</figure>

<figure style={{ textAlign: 'center', display: 'contents' }}>
  <FancyboxImage
    src={`${getBasePrefix()}img/in-cloud/interfaces/describe-interface-2.drawio.svg`}
    style={{ width: '100%', maxWidth: 'none' }}
  />
  <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
    Пример страниц с кратким расположением элементов Factory
  </figcaption>
</figure>

<figure style={{ textAlign: 'center', display: 'contents' }}>
  <FancyboxImage
    src={`${getBasePrefix()}img/in-cloud/interfaces/describe-interface-3.drawio.svg`}
    style={{ width: '100%', maxWidth: 'none' }}
  />
  <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
    Пример страниц с кратким расположением элементов CusoromFormOverride/CusoromFormPrefill
  </figcaption>
</figure>

<figure style={{ textAlign: 'center', display: 'contents' }}>
  <FancyboxImage
    src={`${getBasePrefix()}img/in-cloud/interfaces/describe-interface-4.drawio.svg`}
    style={{ width: '100%', maxWidth: 'none' }}
  />
  <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
    Пример страниц с областью видимости INSIDE-*
  </figcaption>
</figure>

<figure style={{ textAlign: 'center', display: 'contents' }}>
  <FancyboxImage
    src={`${getBasePrefix()}img/in-cloud/interfaces/describe-interface-5.drawio.svg`}
    style={{ width: '100%', maxWidth: 'none' }}
  />
  <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
    Пример страниц с областью видимости STOCK-CLUSTER
  </figcaption>
</figure>

<figure style={{ textAlign: 'center', display: 'contents' }}>
  <FancyboxImage
    src={`${getBasePrefix()}img/in-cloud/interfaces/describe-interface-6.drawio.svg`}
    style={{ width: '100%', maxWidth: 'none' }}
  />
  <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
    Пример страниц с областью видимости STOCK-NAMESPACE
  </figcaption>
</figure>

---

## Sidebar

<p>
  Sidebar в in‑Cloud — это базовый элемент навигации. Он&nbsp; отвечает за доступ к&nbsp; ресурсам и&nbsp; страницам
  интерфейса и&nbsp; настраивается через YAML-конфигурацию. Такой подход позволяет управлять структурой и&nbsp;
  содержимым сайдбара декларативно, без&nbsp; жесткой привязки к&nbsp; коду.
</p>

<p>
  В отличие от&nbsp; статичных решений, сайдбар в in‑Cloud можно адаптировать под&nbsp; конкретные команды и&nbsp; их
  рабочие процессы. Это дает возможность настраивать разные области видимости — пользовательскую, административную,
  cluster или namespace — и&nbsp; поддерживать разные сценарии работы без&nbsp; дублирования интерфейса.
</p>

<h3>Структура полей Sidebar</h3>

<table>
  <thead>
    <tr>
      <th>Поле</th>
      <th>Тип</th>
      <th>Описание</th>
      <th>Пример</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>spec.id</code></td>
      <td>string</td>
      <td>Уникальный идентификатор sidebar, отображается в UI.</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            ### Административный интерфейс
            id: inside-cluster-api-form
            id: inside-cluster-api-table
            id: inside-cluster-builtin-form
            id: inside-cluster-builtin-table
            id: inside-namespace-api-form
            id: inside-namespace-api-table
            id: inside-namespace-builtin-form
            id: inside-namespace-builtin-table

            ### Пользовательский интерфейс
            id: stock-cluster-api-form
            id: stock-cluster-api-table
            id: stock-cluster-builtin-form
            id: stock-cluster-builtin-table
            id: stock-project-api-form
            id: stock-project-api-table
            id: stock-project-builtin-form
            id: stock-project-builtin-table
            id: stock-project-factory-*factoryName
          `}
        />
      </td>
    </tr>
    <tr>
      <td><code>spec.keysAndTags</code></td>
      <td>object</td>
      <td>Сопоставление ключей и&nbsp; тегов для sidebar</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            keysAndTags:
              # key — указатель на&nbsp; spec.menuItems[].children[].key
              pods:
                # tags — указатели со стороны фабрики на&nbsp; ключи, которые будут использоваться в сайдбаре
                - pod-sidebar
          `}
        />
      </td>
    </tr>
    <tr>
      <td><code>spec.keysAndTags.\{childrenKey\}</code></td>
      <td>array</td>
      <td>Массив тегов для привязки конкретного ключа</td>
      <td>
        <CodeBlock language="yaml">
          {dedent`
            - pod-sidebar
          `}
        </CodeBlock>
      </td>
    </tr>
    <tr>
      <td><code>spec.menuItems[]</code></td>
      <td>array</td>
      <td>Список элементов меню в сайдбаре</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            - children:
                - key: pods
                  label: Pods
                  link: /openapi-ui/{cluster}/{namespace}/builtin-table/pods
              key: workloads
              label: Workloads
          `}
        />
      </td>
    </tr>
    <tr>
      <td><code>spec.menuItems[].key</code></td>
      <td>string</td>
      <td>Уникальный ключ группы меню</td>
      <td>
        <CodeBlock language="yaml">
          {dedent`
            workloads
          `}
        </CodeBlock>
      </td>
    </tr>
    <tr>
      <td><code>spec.menuItems[].label</code></td>
      <td>string</td>
      <td>Отображаемое имя группы меню</td>
      <td>
        <CodeBlock language="yaml">
          {dedent`
            Workloads
          `}
        </CodeBlock>
      </td>
    </tr>
    <tr>
      <td><code>spec.menuItems[].children[]</code></td>
      <td>array</td>
      <td>Вложенные пункты меню</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            - key: pods
              label: Pods
              link: /openapi-ui/{cluster}/{namespace}/builtin-table/pods
          `}
        />
      </td>
    </tr>
    <tr>
      <td><code>spec.menuItems[].children[].key</code></td>
      <td>string</td>
      <td>Уникальный ключ пункта меню</td>
      <td>
        <CodeBlock language="yaml">
          {dedent`
            pods
          `}
        </CodeBlock>
      </td>
    </tr>
    <tr>
      <td><code>spec.menuItems[].children[].label</code></td>
      <td>string</td>
      <td>Отображаемое имя в интерфейсе</td>
      <td>
        <CodeBlock language="yaml">
          {dedent`
            Pods
          `}
        </CodeBlock>
      </td>
    </tr>
    <tr>
      <td><code>spec.menuItems[].children[].link</code></td>
      <td>string</td>
      <td>Путь в интерфейсе UI</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            # {cluster}   — имя кластера
            # {namespace}     — пространство имен (или all-namespaces)
            # {plural}      — ресурс (pods, deployments и&nbsp;т.&nbsp;д.)
            # {apiGroup}      — группа API (apps, batch, networking.k8s.io)
            # {apiVersion}    — версия API (v1, v1beta1, v1alpha1)

            # default — cluster list
            link: /openapi-ui/clusters

            # default — cluster route
            link: /openapi-ui/\{cluster\}

            # builtin — namespace scope
            link: /openapi-ui/\{cluster\}/\{namespace\}/builtin-table/pods
            link: /openapi-ui/\{cluster\}/\{namespace\}/builtin-form/pods
            link: /openapi-ui/\{cluster\}/\{namespace\}/builtin-table/{plural}
            link: /openapi-ui/\{cluster\}/\{namespace\}/builtin-form/{plural}

            # builtin — cluster scope
            link: /openapi-ui/\{cluster\}/builtin-table/pods
            link: /openapi-ui/\{cluster\}/builtin-form/pods
            link: /openapi-ui/\{cluster\}/builtin-table/{plural}
            link: /openapi-ui/\{cluster\}/builtin-form/{plural}

            # api — namespace scope
            link: /openapi-ui/\{cluster\}/\{namespace\}/api-table/apps/v1/deployments
            link: /openapi-ui/\{cluster\}/\{namespace\}/api-form/apps/v1/deployments
            link: /openapi-ui/\{cluster\}/\{namespace\}/api-table/{apiGroup}/{apiVersion}/{plural}
            link: /openapi-ui/\{cluster\}/\{namespace\}/api-form/{apiGroup}/{apiVersion}/{plural}

            # api — cluster scope
            link: /openapi-ui/\{cluster\}/api-table/apps/v1/deployments
            link: /openapi-ui/\{cluster\}/api-form/apps/v1/deployments
            link: /openapi-ui/\{cluster\}/api-table/{apiGroup}/{apiVersion}/{plural}
            link: /openapi-ui/\{cluster\}/api-form/{apiGroup}/{apiVersion}/{plural}
          `}
        />
      </td>
    </tr>

  </tbody>
</table>

<h3>Настройка sidebar</h3>

<details close className="custom-gray-block">
  <summary>
    <div style={{ display: 'flex', justifyContent: 'space-between', flexWrap: 'wrap' }}>
      <p style={{ marginBottom: 0 }}>Sidebar Example</p>
    </div>
  </summary>
  <CodeBlock language="yaml">
    {dedent`
      ---
      apiVersion: front.in‑Cloud.io/v1alpha1
      kind: Sidebar
      metadata:
        name: stock-cluster-api-table
      spec:
        id: stock-cluster-api-table
        menuItems:
          - children:
              - key: pods
                label: Pods
                link: /openapi-ui/{cluster}/builtin-table/pods
              - key: deployments
                label: Deployments
                link: /openapi-ui/{cluster}/api-table/apps/v1/deployments
              - key: statefulsets
                label: Statefulsets
                link: /openapi-ui/{cluster}/api-table/apps/v1/statefulsets
              - key: secrets
                label: Secrets
                link: /openapi-ui/{cluster}/builtin-table/secrets
              - key: configmaps
                label: ConfigMaps
                link: /openapi-ui/{cluster}/builtin-table/configmaps
              - key: cronjobs
                label: CronJobs
                link: /openapi-ui/{cluster}/api-table/batch/v1/cronjobs
              - key: jobs
                label: Jobs
                link: /openapi-ui/{cluster}/api-table/batch/v1/jobs
              - key: daemonsets
                label: Daemonsets
                link: /openapi-ui/{cluster}/api-table/apps/v1/daemonsets
              - key: replicasets
                label: ReplicaSets
                link: /openapi-ui/{cluster}/api-table/apps/v1/replicasets
              - key: replicationcontrollers
                label: ReplicationControllers
                link: /openapi-ui/{cluster}/builtin-table/replicationcontrollers
              - key: horizontalpodautoscalers
                label: HorizontalPodAutoscalers
                link: /openapi-ui/{cluster}/api-table/autoscaling/v2/horizontalpodautoscalers
              - key: poddisruptionbudgets
                label: PodDisruptionBudgets
                link: /openapi-ui/{cluster}/api-table/policy/v1/poddisruptionbudgets
            key: workloads
            label: Workloads
          - children:
              - key: services
                label: Services
                link: /openapi-ui/{cluster}/builtin-table/services
              - key: networkpolicies
                label: NetworkPolicies
                link: /openapi-ui/{cluster}/api-table/networking.k8s.io/v1/networkpolicies
              - key: ingresses
                label: Ingresses
                link: /openapi-ui/{cluster}/api-table/networking.k8s.io/v1/ingresses
            key: networking
            label: Networking
          - children:
              - key: persistentvolumes
                label: PersistentVolumes
                link: /openapi-ui/{cluster}/builtin-table/persistentvolumes
              - key: persistentvolumeclaims
                label: PersistentVolumeClaims
                link: /openapi-ui/{cluster}/builtin-table/persistentvolumeclaims
              - key: storageclasses
                label: StorageClasses
                link: /openapi-ui/{cluster}/api-table/storage.k8s.io/v1/storageclasses
            key: storage
            label: Storage
          - children:
              - key: nodes
                label: Nodes
                link: /openapi-ui/{cluster}/builtin-table/nodes
            key: compute
            label: Compute
          - children:
              - key: groups
                label: ServiceAccounts
                link: /openapi-ui/{cluster}/builtin-table/serviceaccounts
              - key: roles
                label: Roles
                link: /openapi-ui/{cluster}/api-table/rbac.authorization.k8s.io/v1/roles
              - key: rolebindings
                label: RoleBindings
                link: /openapi-ui/{cluster}/api-table/rbac.authorization.k8s.io/v1/rolebindings
              - key: clusterroles
                label: ClusterRoles
                link: /openapi-ui/{cluster}/api-table/rbac.authorization.k8s.io/v1/clusterroles
              - key: clusterrolebindings
                label: ClusterRoleBindings
                link: /openapi-ui/{cluster}/api-table/rbac.authorization.k8s.io/v1/clusterrolebindings
            key: usermanagement
            label: User Management
          - children:
              - key: namespaces
                label: Namespaces
                link: /openapi-ui/{cluster}/builtin-table/namespaces
              - key: limitranges
                label: LimitRanges
                link: /openapi-ui/{cluster}/builtin-table/limitranges
              - key: resourcequotas
                label: ResourceQuotas
                link: /openapi-ui/{cluster}/builtin-table/resourcequotas
              - key: customresourcedefinitions
                label: CustomResourceDefinitions
                link: /openapi-ui/{cluster}/api-table/apiextensions.k8s.io/v1/customresourcedefinitions
            key: administration
            label: Administration
  `}
  </CodeBlock>
</details>

:::warning
Просьба обратить внимание что id связаны между компонентами интерфейса и&nbsp; подчиняются правилам именования.
:::

:::info
Просьба учитывать, что сайдбары требуется настраивать под&nbsp; каждую область видимости.
Для административного и&nbsp; пользовательского интерфейсов конфигурация может различаться.
Также сайдбар необходимо описывать под&nbsp; каждую страницу фабрики. На первый взгляд это может показаться избыточным, но именно такой подход обеспечивает гибкость и&nbsp; позволяет адаптировать интерфейс под&nbsp; конкретные команды и&nbsp; их процессы.
:::

<figure style={{ textAlign: 'center', display: 'contents' }}>
  <FancyboxImage
    src={`${getBasePrefix()}img/in-cloud/interfaces/pod-ns-all-sidebar.drawio.svg`}
    style={{ width: '100%', maxWidth: 'none' }}
  />
  <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
    Пример сайдбара для страницы Pods в пространстве имен All
  </figcaption>
</figure>

---

## Breadcrumb

<p>
  Breadcrumb в in‑Cloud — это дополнительный элемент навигации. Он&nbsp; показывает путь от&nbsp; корневого уровня до
  текущей страницы и&nbsp; помогает пользователю понимать контекст, в котором он работает. Основная цель — дать быстрый
  доступ к&nbsp; предыдущим уровням без&nbsp; необходимости возвращаться к&nbsp; сайдбару или выполнять повторный поиск.
</p>

<p>
  Цепочка формируется декларативно на&nbsp; основе YAML-описания. Каждый элемент имеет ключ, отображаемое имя и&nbsp;
  ссылку, в которых могут использоваться плейсхолдеры (<code>\{cluster}</code>, <code>\{namespace}</code>,{' '}
  <code>\{apiGroup}</code>, <code>\{apiVersion}</code>, <code>\{plural}</code>). Это позволяет гибко настраивать
  структуру навигации под&nbsp; конкретный сценарий работы.
</p>

<p>
  В отличие от&nbsp; Sidebar, Breadcrumb не&nbsp; определяет логику интерфейса, а дополняет ее. Он&nbsp; служит для
  удобства и&nbsp; экономии времени, когда необходимо перемещаться по вложенным уровням интерфейса или быстро
  переключаться между кластерами и&nbsp; пространствами имен.
</p>

<h3>Структура полей Breadcrumb</h3>

<table>
  <thead>
    <tr>
      <th>Поле</th>
      <th>Тип</th>
      <th>Описание</th>
      <th>Пример</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>spec.id</code></td>
      <td>string</td>
      <td>Уникальный идентификатор цепочки навигации (breadcrumb), отображается в UI.</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            ### Административный интерфейс
            id: inside-cluster-api-form
            id: inside-cluster-api-table
            id: inside-cluster-builtin-form
            id: inside-cluster-builtin-table
            id: inside-namespace-api-form
            id: inside-namespace-api-table
            id: inside-namespace-builtin-form
            id: inside-namespace-builtin-table

            ### Пользовательский интерфейс
            id: stock-cluster-api-form
            id: stock-cluster-api-table
            id: stock-cluster-builtin-form
            id: stock-cluster-builtin-table
            id: stock-project-api-form
            id: stock-project-api-table
            id: stock-project-builtin-form
            id: stock-project-builtin-table
            id: stock-project-factory-*factoryName
          `}
        />
      </td>
    </tr>
    <tr>
      <td><code>spec.breadcrumbItems[]</code></td>
      <td>array</td>
      <td>Список элементов навигационной цепочки (breadcrumb trail).</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            # Пример цепочки навигации для страницы создания ресурса в пространстве имен
            breadcrumbItems:
              - key: in‑Cloud
                label: in‑Cloud
                link: "/openapi-ui"
              - key: clusterList
                label: "Cluster List"
                link: "/openapi-ui/clusters"
              - key: cluster
                label: "{cluster}"
                link: "/openapi-ui/clusters/{cluster}"
              - key: namespaces
                label: "Namespaces"
              - key: namespace
                label: "All"
              - key: api
                label: "{plural}"
          `}
        />
      </td>
    </tr>
    <tr>
      <td><code>spec.breadcrumbItems[].key</code></td>
      <td>string</td>
      <td>Уникальный ключ пункта в цепочке навигации.</td>
      <td>
        <CodeBlock language="yaml">
          {dedent`
            clusterList
          `}
        </CodeBlock>
      </td>
    </tr>
    <tr>
      <td><code>spec.breadcrumbItems[].label</code></td>
      <td>string</td>
      <td>Отображаемое имя пункта навигации в UI.</td>
      <td>
        <CodeBlock language="yaml">
          {dedent`
            Cluster List
          `}
        </CodeBlock>
      </td>
    </tr>
    <tr>
      <td><code>spec.breadcrumbItems[].link</code></td>
      <td>string</td>
      <td>
        Ссылка на&nbsp; страницу, соответствующую элементу навигации.
      </td>
      <td>
        <YamlModal
          yamlContent={dedent`
            # {cluster}   — имя кластера
            # {namespace}     — пространство имен (или all-namespaces)
            # {plural}      — ресурс (pods, deployments и&nbsp;т.&nbsp;д.)
            # {apiGroup}      — группа API (apps, batch, networking.k8s.io)
            # {apiVersion}    — версия API (v1, v1beta1, v1alpha1)

            # default — cluster list
            link: /openapi-ui/clusters

            # default — cluster route
            link: /openapi-ui/\{cluster\}

            # builtin — namespace scope
            link: /openapi-ui/\{cluster\}/\{namespace\}/builtin-table/pods
            link: /openapi-ui/\{cluster\}/\{namespace\}/builtin-form/pods
            link: /openapi-ui/\{cluster\}/\{namespace\}/builtin-table/{plural}
            link: /openapi-ui/\{cluster\}/\{namespace\}/builtin-form/{plural}

            # builtin — cluster scope
            link: /openapi-ui/\{cluster\}/builtin-table/pods
            link: /openapi-ui/\{cluster\}/builtin-form/pods
            link: /openapi-ui/\{cluster\}/builtin-table/{plural}
            link: /openapi-ui/\{cluster\}/builtin-form/{plural}

            # api — namespace scope
            link: /openapi-ui/\{cluster\}/\{namespace\}/api-table/apps/v1/deployments
            link: /openapi-ui/\{cluster\}/\{namespace\}/api-form/apps/v1/deployments
            link: /openapi-ui/\{cluster\}/\{namespace\}/api-table/{apiGroup}/{apiVersion}/{plural}
            link: /openapi-ui/\{cluster\}/\{namespace\}/api-form/{apiGroup}/{apiVersion}/{plural}

            # api — cluster scope
            link: /openapi-ui/\{cluster\}/api-table/apps/v1/deployments
            link: /openapi-ui/\{cluster\}/api-form/apps/v1/deployments
            link: /openapi-ui/\{cluster\}/api-table/{apiGroup}/{apiVersion}/{plural}
            link: /openapi-ui/\{cluster\}/api-form/{apiGroup}/{apiVersion}/{plural}
          `}
        />
      </td>
    </tr>

  </tbody>
</table>

<h3>Настройка breadcrumb</h3>

<details close className="custom-gray-block">
  <summary>
    <div style={{ display: 'flex', justifyContent: 'space-between', flexWrap: 'wrap' }}>
      <p style={{ marginBottom: 0 }}>BreadCrumb Example</p>
    </div>
  </summary>
  <CodeBlock language="yaml">
    {dedent`
      ---
      apiVersion: front.in‑Cloud.io/v1alpha1
      kind: Breadcrumb
      metadata:
        name: stock-cluster-api-table
      spec:
        id: "stock-cluster-api-table"
        breadcrumbItems:
          - key: in‑Cloud
            label: in‑Cloud
            link: "/openapi-ui"
          - key: clusterList
            label: "Cluster List"
            link: "/openapi-ui/clusters"
          - key: cluster
            label: "{cluster}"
            link: "/openapi-ui/clusters/{cluster}"
          - key: namespaces
            label: "Namespaces"
          - key: namespace
            label: "All"
          - key: api
            label: "{plural}"
  `}
  </CodeBlock>
</details>

:::warning
Просьба обратить внимание что id связаны между компонентами интерфейса и&nbsp; подчиняются правилам именования.
:::

:::info
Просьба учитывать, что Breadcrumb требуется настраивать под&nbsp; каждую область видимости.
Для административного и&nbsp; пользовательского интерфейсов конфигурация может различаться.
Также Breadcrumb необходимо описывать под&nbsp; каждую страницу фабрики. На первый взгляд это может показаться избыточным, но именно такой подход обеспечивает гибкость и&nbsp; позволяет адаптировать интерфейс под&nbsp; конкретные команды и&nbsp; их процессы.
:::

<figure style={{ textAlign: 'center', display: 'contents' }}>
  <FancyboxImage
    src={`${getBasePrefix()}img/in-cloud/interfaces/pod-ns-all-breadcrumb.drawio.svg`}
    style={{ width: '100%', maxWidth: 'none' }}
  />
  <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
    Пример хлебных крошек для страницы Pods в пространстве имен All
  </figcaption>
</figure>

---

## CustomColumnsOverride

<p>
  CustomColumnsOverride — механизм описания колонок табличных представлений Kubernetes-ресурсов в in‑Cloud. Позволяет
  переопределять стандартные колонки, добавлять новые и&nbsp; задавать поведение (тип, значения по умолчанию, обрезку
  длины).
</p>
<p>
  Работает для пользовательской и&nbsp; административной областей видимости. Конфигурация декларативная (YAML) и&nbsp;
  не&nbsp; требует правок кода.
</p>

<h3>Структура полей CustomColumnsOverride</h3>

<table>
  <thead>
    <tr>
      <th>Поле</th>
      <th>Тип</th>
      <th>Пример</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>spec.id</code></td>
      <td>string</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            ###
            ### Административный интерфейс
            inside-namespace-/v1/pods
            inside-cluster-/v1/pods
            inside-namespace-/apps/v1/deployments
            inside-cluster-/apps/v1/deployments

            ### Пользовательский интерфейс
            stock-namespace-/v1/pods
            stock-cluster-/v1/pods
            stock-namespace-/apps/v1/deployments
            stock-cluster-/apps/v1/deployments
          `}
        />
      </td>
    </tr>

    <tr>
      <td><code>spec.additionalPrinterColumns[]</code></td>
      <td>array</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            additionalPrinterColumns:
              - jsonPath: .metadata.name
                name: Name
              - jsonPath: .spec.nodeName
                name: Node
              - jsonPath: .spec.restartPolicy
                name: Restart Policy
              - jsonPath: .status.podIP
                name: Pod IP
              - jsonPath: .status.conditions[?(@.type=="ContainersReady")].status
                name: Status Containers
              - jsonPath: .status.conditions[?(@.type=="PodScheduled")].status
                name: Status Scheduled
              - jsonPath: .status.qosClass
                name: QOS
              - jsonPath: .status.phase
                name: Phase
              - jsonPath: .metadata.creationTimestamp
                name: Created
          `}
        />
      </td>
    </tr>

    <tr>
      <td><code>spec.additionalPrinterColumnsUndefinedValues[]</code></td>
      <td>array</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            additionalPrinterColumnsUndefinedValues:
              - key: Node
                value: Unschedulable
          `}
        />
      </td>
    </tr>

    <tr>
      <td><code>spec.additionalPrinterColumnsTrimLengths[]</code></td>
      <td>array</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            additionalPrinterColumnsTrimLengths:
              - key: Name
                value: 64
          `}
        />
      </td>
    </tr>

  </tbody>
</table>

<h3>Описание полей</h3>
<dl>
  <dt><code>spec.id</code></dt>
  <dd>Идентификатор области видимости и&nbsp; ресурса, для которого переопределяются колонки.</dd>

<dt>
  <code>spec.additionalPrinterColumns[]</code>
</dt>
<dd>Список пользовательских колонок для табличного представления ресурса.</dd>

<dt>
  <code>spec.additionalPrinterColumnsUndefinedValues[]</code>
</dt>
<dd>Подстановка значений по умолчанию, если вычисленное значение пустое или не&nbsp; определено.</dd>

  <dt><code>spec.additionalPrinterColumnsTrimLengths[]</code></dt>
  <dd>Правила обрезки строковых значений по длине для указанных колонок.</dd>
</dl>

<h3>
  Структура элемента <code>additionalPrinterColumns[]</code>
</h3>

<table>
  <thead>
    <tr>
      <th>Поле</th>
      <th>Тип</th>
      <th>Описание</th>
      <th>Пример</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>jsonPath</code>
      </td>
      <td>string</td>
      <td>JSONPath-выражение для извлечения значения колонки из объекта ресурса.</td>
      <td>
        <CodeBlock language="yaml">
          {dedent`
            .status.phase
          `}
        </CodeBlock>
      </td>
    </tr>
    <tr>
      <td>
        <code>name</code>
      </td>
      <td>string</td>
      <td>Заголовок колонки.</td>
      <td>
        <CodeBlock language="yaml">
          {dedent`
            Phase
          `}
        </CodeBlock>
      </td>
    </tr>
  </tbody>
</table>

<h3>
  Структура элемента <code>additionalPrinterColumnsUndefinedValues[]</code>
</h3>

<table>
  <thead>
    <tr>
      <th>Поле</th>
      <th>Тип</th>
      <th>Описание</th>
      <th>Пример</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>key</code>
      </td>
      <td>string</td>
      <td>Имя колонки, к&nbsp; которой применяется подстановка.</td>
      <td>
        <CodeBlock language="yaml">
          {dedent`
            Pod IP
          `}
        </CodeBlock>
      </td>
    </tr>
    <tr>
      <td>
        <code>value</code>
      </td>
      <td>string</td>
      <td>Значение по умолчанию при отсутствии данных.</td>
      <td>
        <CodeBlock language="yaml">
          {dedent`
            NotAllocated
          `}
        </CodeBlock>
      </td>
    </tr>
  </tbody>
</table>

<h3>
  Структура элемента <code>additionalPrinterColumnsTrimLengths[]</code>
</h3>

<table>
  <thead>
    <tr>
      <th>Поле</th>
      <th>Тип</th>
      <th>Описание</th>
      <th>Пример</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>key</code>
      </td>
      <td>string</td>
      <td>Имя колонки, для которой задается ограничение длины.</td>
      <td>
        <CodeBlock language="yaml">
          {dedent`
            Name
          `}
        </CodeBlock>
      </td>
    </tr>
    <tr>
      <td>
        <code>value</code>
      </td>
      <td>integer</td>
      <td>Максимальная длина строки, символы сверх — обрезаются.</td>
      <td>
        <CodeBlock language="yaml">
          {dedent`
            64
          `}
        </CodeBlock>
      </td>
    </tr>
  </tbody>
</table>

<h3>Настройка CustomColumnsOverride</h3>

<details close className="custom-gray-block">
  <summary>
    <div style={{ display: 'flex', justifyContent: 'space-between', flexWrap: 'wrap' }}>
      <p style={{ marginBottom: 0 }}>CustomColumnsOverride Example</p>
    </div>
  </summary>
  <CodeBlock language="yaml">
    {dedent`
      ---
      apiVersion: front.in‑Cloud.io/v1alpha1
      kind: CustomColumnsOverride
      metadata:
        name: "stock-cluster-v1.pods"
      spec:
        additionalPrinterColumns:
          - jsonPath: .metadata.name
            name: Name
            type: string
          - jsonPath: .metadata.namespace
            name: Namespace
            type: string
          - jsonPath: .spec.nodeName
            name: Node
            type: string
          - jsonPath: .spec.restartPolicy
            name: Restart Policy
            type: string
          - jsonPath: .status.podIP
            name: Pod IP
            type: string
          - jsonPath: .status.conditions[?(@.type=="ContainersReady")].status
            name: Status Containers
            type: string
          - jsonPath: .status.conditions[?(@.type=="PodScheduled")].status
            name: Status Scheduled
            type: string
          - jsonPath: .status.qosClass
            name: QOS
            type: string
          - jsonPath: .status.phase
            name: Phase
            type: string
          - jsonPath: .metadata.creationTimestamp
            name: Created
            type: date
        additionalPrinterColumnsUndefinedValues:
          - key: Node
            value: Unschedulable
          - key: Pod IP
            value: NotAllocated
        additionalPrinterColumnsTrimLengths:
          - key: Name
            value: 64
        id: "stock-cluster-/v1/pods"
  `}
  </CodeBlock>
</details>

<details close className="custom-gray-block">
  <summary>
    <div style={{ display: 'flex', justifyContent: 'space-between', flexWrap: 'wrap' }}>
      <p style={{ marginBottom: 0 }}>CustomColumnsOverride Example Factory</p>
    </div>
  </summary>

:::warning Внимание!
Обратите внимание: данный пример отличается от предыдущего использованием кастомного типа `factory`.
Чуть ниже вы сможете подробнее ознакомиться с этой абстракцией. На данном этапе важно запомнить, что элементы таблицы также
могут использовать этот механизм для наполнения ячеек.
:::

  <CodeBlock language="yaml">
    {dedent`
      ---
      apiVersion: front.in‑Cloud.io/v1alpha1
      kind: CustomColumnsOverride
      metadata:
        name: stock-cluster-v1.pods
      spec:
        additionalPrinterColumns:
        - customProps:
            # supports urlsToFetch. Row data will be req0. First fetch will be req1
            disableEventBubbling: true
            items:
            - children:
              - type: ResourceBadge
                data:
                  id: resource-badge
                  value: '{reqsJsonPath[0][''.kind''][''-'']}'
              - data:
                  href: /openapi-ui/{2}/{reqsJsonPath[0]['.metadata.namespace']['-']}/factory/pod-details/{reqsJsonPath[0]['.metadata.name']['-']}
                  id: name-link
                  text: '{reqsJsonPath[0][''.metadata.name''][''-'']}'
                type: antdLink
              data:
                align: center
                gap: 6
                id: header-row
              type: antdFlex
          jsonPath: .metadata.name
          name: Name
          type: factory
        - customProps:
            # supports urlsToFetch. Row data will be req0. First fetch will be req1
            disableEventBubbling: true
            items:
              - type: ResourceBadge
                data:
                  id: resource-badge
                  value: Namespace
              - data:
                  href: /openapi-ui/{2}/factory/namespace-details/{reqsJsonPath[0]['.metadata.namespace']['-']}
                  id: namespace-link
                  text: '{reqsJsonPath[0][''.metadata.namespace''][''-'']}'
                type: antdLink
              data:
                align: center
                gap: 6
                id: header-row
              type: antdFlex
          jsonPath: .metadata.namespace
          name: Namespace
          type: factory
        - customProps:
            # supports urlsToFetch. Row data will be req0. First fetch will be req1
            disableEventBubbling: true
            items:
            - children:
              - type: ResourceBadge
                data:
                  id: resource-badge
                  value: Node
              - data:
                  href: /openapi-ui/{2}/factory/node-details/{reqsJsonPath[0]['.spec.nodeName']['-']}
                  id: name-link
                  text: '{reqsJsonPath[0][''.spec.nodeName''][''-'']}'
                type: antdLink
              data:
                align: center
                gap: 6
                id: header-row
              type: antdFlex
          jsonPath: .spec.nodeName
          name: Node
          type: factory
        - jsonPath: .spec.restartPolicy
          name: Restart Policy
          type: string
        - jsonPath: .status.podIP
          name: Pod IP
          type: string
        - jsonPath: .status.qosClass
          name: QOS
          type: string
        - customProps:
            # supports urlsToFetch. Row data will be req0. First fetch will be req1
            disableEventBubbling: true
            items:
            - data:
                criteriaError: equals
                criteriaSuccess: notEquals
                errorText: Error
                fallbackText: Progressing
                id: pod-status
                stategySuccess: every
                strategyError: every
                successText: '{reqsJsonPath[0][''.status.phase'']}'
                valueToCompareError:
                - Failed
                - Unknown
                - Evicted
                - NodeLost
                - UnexpectedAdmissionError
                - SchedulerError
                - FailedScheduling
                - CrashLoopBackOff
                - ImagePullBackOff
                - ErrImagePull
                - ErrImageNeverPull
                - InvalidImageName
                - ImageInspectError
                - CreateContainerConfigError
                - CreateContainerError
                - RunContainerError
                - StartError
                - PostStartHookError
                - ContainerCannotRun
                - OOMKilled
                - Error
                - DeadlineExceeded
                - CreatePodSandboxError
                valueToCompareSuccess:
                - Preempted
                - Shutdown
                - NodeShutdown
                - DisruptionTarget
                - Unschedulable
                - SchedulingGated
                - ContainersNotReady
                - ContainersNotInitialized
                - BackOff
                - PreStopHookError
                - KillError
                - ContainerStatusUnknown
                values:
                - '{reqsJsonPath[0][''.status.initContainerStatuses[*].state.waiting.reason'']}'
                - '{reqsJsonPath[0][''.status.initContainerStatuses[*].state.terminated.reason'']}'
                - '{reqsJsonPath[0][''.status.initContainerStatuses[*].lastState.terminated.reason'']}'
                - '{reqsJsonPath[0][''.status.containerStatuses[*].state.waiting.reason'']}'
                - '{reqsJsonPath[0][''.status.containerStatuses[*].state.terminated.reason'']}'
                - '{reqsJsonPath[0][''.status.containerStatuses[*].lastState.terminated.reason'']}'
                - '{reqsJsonPath[0][''.status.phase'']}'
                - '{reqsJsonPath[0][''.status.reason'']}'
                - '{reqsJsonPath[0][''.status.conditions[*].reason'']}'
              type: StatusText
          name: Status
          type: factory
        - customProps:
            # supports urlsToFetch. Row data will be req0. First fetch will be req1
            disableEventBubbling: true
            items:
            - children:
              - data:
                  id: time-icon
                  text: "\U0001F310"
                type: antdText
              - data:
                  formatter: timestamp
                  id: time-value
                  text: '{reqsJsonPath[0][''.metadata.creationTimestamp''][''-'']}'
                type: parsedText
              data:
                align: center
                gap: 6
                id: time-block
              type: antdFlex
          jsonPath: .metadata.creationTimestamp
          name: Created
          type: factory
        additionalPrinterColumnsTrimLengths:
        - key: Name
          value: 64
        additionalPrinterColumnsUndefinedValues:
        - key: Node
          value: Unschedulable
        - key: Pod IP
          value: NotAllocated
        id: stock-cluster-/v1/pods
  `}
  </CodeBlock>
</details>

:::warning
Просьба обратить внимание что id в этом ресурсе отличается от&nbsp; BreadCrumb и&nbsp; Sidebar.
:::

:::info
Просьба учитывать, что CustomColumnsOverride требуется настраивать под&nbsp; каждый тип ресурса тк они отличаются по структуре.

> JsonPath использует весь функционал библиотеки TypeScript JSONPath, а значит позволяет использовать фильтры, условия и&nbsp; другие возможности для извлечения данных из сложных структур.

:::

<figure style={{ textAlign: 'center', display: 'contents' }}>
  <FancyboxImage
    src={`${getBasePrefix()}img/in-cloud/interfaces/pod-ns-all-cco.drawio.svg`}
    style={{ width: '100%', maxWidth: 'none' }}
  />
  <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
    Пример форматирования таблиц для Pods в пространстве имен All
  </figcaption>
</figure>

---

## TableUriMapping

<p>
  TableUriMapping — механизм настройки маршрутов для табличных представлений Kubernetes-ресурсов в in‑Cloud. При&nbsp;
  определении маршрута строки и&nbsp; ячейки становятся кликабельными и&nbsp; ведут на&nbsp; соответствующие страницы
  ресурса.
</p>
<p>
  Работает для пользовательской и&nbsp; административной областей видимости. Конфигурация декларативная (YAML) и&nbsp;
  не&nbsp; требует правок кода.
</p>

<h3>Структура полей TableUriMapping</h3>

<table>
  <thead>
    <tr>
      <th>Поле</th>
      <th>Тип</th>
      <th>Описание</th>
      <th>Пример</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>spec.id</code></td>
      <td>string</td>
      <td>Идентификатор области видимости и&nbsp; ресурса, для которых настраивается табличный роутинг.</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            # {cluster}   — имя кластера
            # {namespace}     — пространство имен (или all-namespaces)
            # {plural}      — ресурс (pods, deployments и&nbsp;т.&nbsp;д.)
            # {apiGroup}      — группа API (apps, batch, networking.k8s.io)
            # {apiVersion}    — версия API (v1, v1beta1, v1alpha1)

            # builtin — ресурсы
            # Примеры шаблонов:
            # inside-cluster-/v1/{plural}
            # inside-namespace-/v1/{plural}
            # stock-cluster-/v1/{plural}
            # stock-namespace-/v1/{plural}

            # Примеры:
            id: stock-namespace-/v1/pods
            id: stock-cluster-/v1/pods

            # api — ресурсы
            # Примеры шаблонов:
            # inside-cluster-/{apiGroup}/{apiVersion}/{plural}
            # inside-namespace-/{apiGroup}/{apiVersion}/{plural}
            # stock-cluster-/{apiGroup}/{apiVersion}/{plural}
            # stock-namespace-/{apiGroup}/{apiVersion}/{plural}

            # Примеры:
            id: stock-namespace-/apps/v1/deployments
            id: stock-cluster-/apps/v1/deployments

          `}
        />
      </td>
    </tr>
    <tr>
      <td><code>spec.keysToParse</code></td>
      <td>string</td>
      <td>JSONPath до значения, подставляемого как ```~recordValue``` (опционально).</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            keysToParse: .metadata.name
          `}
        />
      </td>
    </tr>
    <tr>
      <td><code>spec.keysToParseSecond</code></td>
      <td>string</td>
      <td>JSONPath до значения, подставляемого как ```~recordValueSecond``` (опционально).</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            keysToParseSecond: .metadata.namespace
          `}
        />
      </td>
    </tr>
    <tr>
      <td><code>spec.keysToParseThird</code></td>
      <td>string</td>
      <td>JSONPath до значения, подставляемого как ```~recordValueThird``` (опционально).</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            keysToParseThird: {3}
          `}
        />
      </td>
    </tr>
    <tr>
      <td><code>spec.pathToNavigate</code></td>
      <td>string</td>
      <td>Шаблон маршрута для перехода из таблицы. Поддерживает плейсхолдеры из контекста и&nbsp; значений по JSONPath.</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            /openapi-ui/{cluster}/~recordValueSecond~/factory/pod-details/~recordValue~
          `}
        />
      </td>
    </tr>

  </tbody>
</table>

<h3>Плейсхолдеры маршрута</h3>

<table>
  <thead>
    <tr>
      <th>Плейсхолдер</th>
      <th>Источник</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>\{cluster}</code>
      </td>
      <td>Выбранный кластер</td>
    </tr>
    <tr>
      <td>
        <code>\{namespace}</code>
      </td>
      <td>Выбранное пространство имен (если применяется)</td>
    </tr>
    <tr>
      <td>
        <code>```~recordValue~```</code>
      </td>
      <td>
        Значение из <code>spec.keysToParse</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>```~recordValueSecond~```</code>
      </td>
      <td>
        Значение из <code>spec.keysToParseSecond</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>```~recordValueThird~```</code>
      </td>
      <td>
        Значение из <code>spec.keysToParseThird</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>\{index}</code>
      </td>
      <td>Номер индекса URI (считается в разрезе разделительных "/")</td>
    </tr>
  </tbody>
</table>

<h3>Настройка TableUriMapping</h3>

<details close className="custom-gray-block">
  <summary>
    <div style={{ display: 'flex', justifyContent: 'space-between', flexWrap: 'wrap' }}>
      <p style={{ marginBottom: 0 }}>TableUriMapping Example</p>
    </div>
  </summary>
  <CodeBlock language="yaml">
    {dedent`
      ---
      apiVersion: front.in‑Cloud.io/v1alpha1
      kind: TableUriMapping
      metadata:
        name: stock-cluster-pod-details
      spec:
        keysToParse: ".metadata.name"
        keysToParseSecond: ".metadata.namespace"
        id: "stock-cluster-/v1/pods"
        pathToNavigate: "/openapi-ui/{cluster}/~recordValueSecond~/factory/pod-details/~recordValue~"
    `}
  </CodeBlock>
</details>

:::warning
Просьба обратить внимание что id в этом ресурсе отличается от&nbsp; BreadCrumb и&nbsp; Sidebar.
:::

:::info
Просьба учитывать, что CustomColumnsOverride требуется настраивать под&nbsp; каждый тип ресурса.
:::

<figure style={{ textAlign: 'center', display: 'contents' }}>
  <FancyboxImage
    src={`${getBasePrefix()}img/in-cloud/interfaces/pod-ns-all-tum-start.drawio.svg`}
    style={{ width: '100%', maxWidth: 'none' }}
  />
  <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
    Страница табличного представления Pods в пространстве имен All где&nbsp; нажали на&nbsp; строку таблицы
  </figcaption>
</figure>

<figure style={{ textAlign: 'center', display: 'contents' }}>
  <FancyboxImage
    src={`${getBasePrefix()}img/in-cloud/interfaces/pod-ns-all-tum-finish.drawio.svg`}
    style={{ width: '100%', maxWidth: 'none' }}
  />
  <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
    Страница фабрики с деталями Pods, открытая по клику на&nbsp; строку таблицы
  </figcaption>
</figure>

> Как видно на&nbsp; втором изображении, контекст сохраняется на&nbsp; уровнях Sidebar и&nbsp; Breadcrumb — это позволяет быстро вернуться к&nbsp; предыдущему состоянию интерфейса. Указатели keysToParse и&nbsp; keysToParseSecond передают нужные значения в фабрику, задавая Namespace-контекст для дальнейшей работы с Pods.

---

## Navigation

<p>
  <strong>Navigation</strong> — это механизм настройки переходов между контекстами в интерфейсе in‑Cloud UI. Он&nbsp;
  определяет, куда должен направляться пользователь при выборе проекта, инстанса или пространства имен.
</p>

<p>
  Navigation работает декларативно: при изменении значения в выпадающем списке пользователь перенаправляется на&nbsp;
  заранее заданный маршрут. Для этого задаются два шаблона на&nbsp; каждый тип контекста:
</p>

<ul>
  <li>
    <code>clear</code> — маршрут при сбросе значения (например, "все проекты")
  </li>
  <li>
    <code>change</code> — маршрут при выборе нового значения
  </li>
</ul>

<p>В маршрутах поддерживаются следующие плейсхолдеры:</p>

<table>
  <thead>
    <tr>
      <th>Плейсхолдер</th>
      <th>Описание</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>\{selectedCluster}</code>
      </td>
      <td>Текущий выбранный кластер</td>
    </tr>
    <tr>
      <td>
        <code>\{value}</code>
      </td>
      <td>Новое выбранное значение (проект, инстанс или namespace)</td>
    </tr>
  </tbody>
</table>

<h3>Структура полей Navigation</h3>

<table>
  <thead>
    <tr>
      <th>Поле</th>
      <th>Тип</th>
      <th>Описание</th>
      <th>Пример</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>spec.projects.clear</code>
      </td>
      <td>string</td>
      <td>Маршрут при сбросе выбранного проекта.</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            /openapi-ui/\{selectedCluster}/builtin-table/pods
          `}
        />
      </td>
    </tr>
    <tr>
      <td>
        <code>spec.projects.change</code>
      </td>
      <td>string</td>
      <td>Маршрут при выборе конкретного проекта.</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            /openapi-ui/\{selectedCluster}/\{value}/builtin-table/pods
          `}
        />
      </td>
    </tr>
    <tr>
      <td>
        <code>spec.instances.clear</code>
      </td>
      <td>string</td>
      <td>Маршрут при сбросе выбранного инстанса.</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            /openapi-ui/\{selectedCluster}/builtin-table/pods
          `}
        />
      </td>
    </tr>
    <tr>
      <td>
        <code>spec.instances.change</code>
      </td>
      <td>string</td>
      <td>Маршрут при выборе конкретного инстанса.</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            /openapi-ui/\{selectedCluster}/\{value}/builtin-table/pods
          `}
        />
      </td>
    </tr>
    <tr>
      <td>
        <code>spec.namespaces.clear</code>
      </td>
      <td>string</td>
      <td>Маршрут при сбросе выбранного namespace.</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            /openapi-ui/\{selectedCluster}/builtin-table/pods
          `}
        />
      </td>
    </tr>
    <tr>
      <td>
        <code>spec.namespaces.change</code>
      </td>
      <td>string</td>
      <td>Маршрут при выборе конкретного namespace.</td>
      <td>
        <YamlModal
          yamlContent={dedent`
            /openapi-ui/\{selectedCluster}/\{value}/builtin-table/pods
          `}
        />
      </td>
    </tr>
  </tbody>
</table>

<h3>Пример ресурса Navigation</h3>

<details close className="custom-gray-block">
  <summary>
    <div style={{ display: 'flex', justifyContent: 'space-between', flexWrap: 'wrap' }}>
      <p style={{ marginBottom: 0 }}>Navigation Example</p>
    </div>
  </summary>
  <CodeBlock language="yaml">
    {dedent`
      ---
      apiVersion: front.in‑Cloud.io/v1alpha1
      kind: Navigation
      metadata:
        name: navigation
      spec:
        projects:
          clear: "/openapi-ui/\{selectedCluster}/builtin-table/pods"
          change: "/openapi-ui/\{selectedCluster}/\{value}/builtin-table/pods"

        instances:
          clear: "/openapi-ui/\{selectedCluster}/builtin-table/pods"
          change: "/openapi-ui/\{selectedCluster}/\{value}/builtin-table/pods"

        namespaces:
          clear: "/openapi-ui/\{selectedCluster}/builtin-table/pods"
          change: "/openapi-ui/\{selectedCluster}/\{value}/builtin-table/pods"
    `}

  </CodeBlock>
</details>

:::info
Ресурс <code>Navigation</code> обычно описывается один раз и&nbsp; применяется глобально ко всем элементам интерфейса.
При необходимости можно задать разные правила навигации для разных страниц фабрики.
:::

:::warning
Обратите внимание, что маршруты должны быть валидными и&nbsp; вести на&nbsp; существующие представления,
иначе пользователь может попасть на&nbsp; несуществующую страницу.
:::

---

## Factory

<p>
  Ресурс <code>Factory</code> используется в in‑Cloud UI для декларативного построения интерфейсов на&nbsp; основе
  описания в YAML. Он&nbsp; выступает как описатель страницы или ее части, включающей:
</p>

<ul>
  <li>получение данных через API</li>
  <li>визуальное разложение на&nbsp; компоненты</li>
  <li>объединение вложенных компонентов в структуру</li>
  <li>работу с JSONPath-выражениями и&nbsp; переменными из URL</li>
</ul>

<h3>Переменные URL</h3>

<p>
  Все&nbsp; пути в <code>urlsToFetch</code> и&nbsp; других полях могут содержать переменные в фигурных скобках, которые
  подставляются при рендеринге:
</p>

<CodeBlock language="yaml" title="Пример с плейсхолдерами">
  {dedent`
    urlsToFetch:
      - cluster: "{2}"
        apiGroup: "apps"
        apiVersion: "v1"
        namespace: "{3}"
        plural: "deployments"
        fieldSelector: "metadata.name={6}"
  `}
</CodeBlock>

<h3>Обработка данных</h3>

<p>
  Данные, полученные из <code>urlsToFetch</code>, доступны во всех компонентах через JSONPath с синтаксисом
  (поддерживает вложенность):
</p>

<CodeBlock language="yaml">
  {dedent`
    text: '{reqsJsonPath[0][".items.0.metadata.name"]["-"]}'
  `}
</CodeBlock>

<CodeBlock language="yaml">
  {dedent`
    text: |
        {reqsJsonPath[0]['.additionalReqsData.0.items[?(@.metadata.name=="{reqsJsonPath[0][".metadata.name"]["-"]}")].containers.0.usage.cpu']['-']}-CUSTOM!!!
  `}
</CodeBlock>

<ul>
  <li>
    <code>reqsJsonPath[0]</code> — первый элемент из <code>urlsToFetch</code>
  </li>
  <li>
    <code>[".items.0.metadata.name"]</code> — путь к&nbsp; нужному полю
  </li>
  <li>
    <code>["-"]</code> — Базовое значение если значение не&nbsp; определено
  </li>
</ul>

:::info
Просьба обратить внимание на несколько моментов:

1. urlsToFetch — это массив, в котором каждый элемент содержит результаты выборки, прошедшие через заданные фильтры (labelSelector, fieldSelector).
2. Если целевой API поддерживает watch и доступен по сокетному соединению, данные приходят потоково в реальном времени. Если такой возможности нет, выполняется обычный REST-запрос.
   :::
   <h3>Типовые применения</h3>

<ul>
  <li>Страницы деталей ресурсов (Pods, Deployments, Nodes)</li>
  <li>Таблицы с YAML/JSON редактированием</li>
  <li>
    Динамические вкладки с таблицами (<code>EnrichedTable</code>)
  </li>
  <li>Визуализация логов и&nbsp; терминала</li>
</ul>

<h3>Общее описание</h3>

Ресурс принадлежит группе <code>front.in‑Cloud.io/v1alpha1</code> и&nbsp; имеет следующий базовый вид:

<CodeBlock language="yaml" title="Factory.yaml">
  {dedent`
    ---
    apiVersion: front.in‑Cloud.io/v1alpha1
    kind: Factory
    metadata:
      name: example-details
    spec:
      key: example-details
      urlsToFetch:
        - cluster: "{2}"
          apiGroup: "apps"
          apiVersion: "v1"
          namespace: "{3}"
          plural: "deployments"
      data:
        - type: antdText
          data:
            id: text-header
            text: Example title
  `}
</CodeBlock>

<h3>Ключевые поля</h3>

<table>
  <thead>
    <tr>
      <th>Поле</th>
      <th>Тип</th>
      <th>Назначение</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>spec.key</code>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>Уникальный ключ страницы, используется как ID и&nbsp; часть URL.</td>
    </tr>
    <tr>
      <td>
        <code>sidebarTags[]</code>
      </td>
      <td>
        <code>string[]</code>
      </td>
      <td>Связь с тегами сайдбара, влияет на&nbsp; навигацию и&nbsp; видимость.</td>
    </tr>
    <tr>
      <td>
        <code>urlsToFetch[]</code>
      </td>
      <td>
        <CodeBlock language="typescript">
          {dedent`
            (string | {
              cluster: string
              apiGroup?: string
              apiVersion: string
              plural: string
              namespace?: string
              fieldSelector?: string
              labelSelector?: string
              limit?: number
            })[]
  `}
        </CodeBlock>
      </td>
      <td>
        Список API-запросов, чьи данные будут подставлены в шаблоны компонентов. Указание ресурса через структуру
        приведет к проверка verb `watch` и получению данных через сокет при его наличии
      </td>
    </tr>
    <tr>
      <td>
        <code>withScrollableMainContentCard</code>
      </td>
      <td>
        <code>bool</code>
      </td>
      <td>Управляет наличием скролла в карточке основного контента.</td>
    </tr>
    <tr>
      <td>
        <code>data[]</code>
      </td>
      <td>
        <code>Component[]</code>
      </td>
      <td>Основная структура компонентов интерфейса.</td>
    </tr>
  </tbody>
</table>

<h3>
  Поле <code>data[]</code>
</h3>

Поле <code>data</code> — это **основное содержимое Factory-ресурса**.
Оно описывает структуру интерфейса в виде иерархии компонентов.

<h3>Доступные компоненты Factory</h3>

<table>
  <thead>
    <tr>
      <th>Название</th>
      <th>Назначение</th>
      <th>Пример</th>
    </tr>
  </thead>
  <tbody>

    <tr>
      <td><code>antdText</code></td>
      <td>Выводит простой текст или заголовок</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/antdText.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>

          <YamlModal
            yamlContent={dedent`
              - type: antdText
                data:
                  id: details-title
                  text: "Pod details"
                  strong: true
                  style:
                    fontSize: 20
                    marginBottom: 12px
            `}
          />

          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
            {
              id: number | string
              text: string
            } & Omit<TextProps, 'id' | 'children'>
            `}
          />
          <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
            <a href="https://ant.design/components/typography#typographytext" target="_blank">TextProps</a>
            <a href="https://ant.design/components/typography#typography-demo-text" target="_blank">Пример</a>
          </div>
        </div>
      </td>
    </tr>

    <tr>
      <td><code>ResourceBadge</code></td>
      <td>Выводит простой текст или заголовок</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/ResourceBadge.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>

          <YamlModal
            yamlContent={dedent`
              - type: ResourceBadge
                data:
                  id: kind-resource-badge
                  value: Pod

              - type: ResourceBadge
                data:
                  id: namespace-resource-badge
                  value: Namespace

              - type: ResourceBadge
                data:
                  id: node-resource-badge
                  value: Node
            `}
          />

          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                value: string // to get color and maybe abbr
                abbreviation?: string
                spanStyle?: CSSProperties
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>parsedText</code></td>
      <td>Значение из JSONPath</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/parsedText.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
          <YamlModal
            yamlContent={dedent`
              - type: parsedText
                data:
                  id: meta-name-value
                  text: "{reqsJsonPath[0]['.metadata.name']['-']}"
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                text: string
                formatter?: 'timestamp'
                style?: CSSProperties
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>LabelsToSearchParams</code></td>
      <td>Создает ссылку на Search модуль с подставленными атрибутами поиска</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/LabelsToSearchParams.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
          <YamlModal
            yamlContent={dedent`
              - type: LabelsToSearchParams
                data:
                  id: example-to-search-params
                  reqIndex: 0
                  jsonPathToLabels: ".metadata.labels"
                  linkPrefix: "/openapi-ui/{2}/search?kinds=~v1~pods&labels="
                  errorText: "No selector"
                  maxTextLength: 11
                  textLink: Search
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                reqIndex: number
                jsonPathToLabels: string
                linkPrefix: string
                errorText: string
                maxTextLength: number
                textLink: string
                style?: CSSProperties
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>StatusText</code></td>
      <td>Определяет статус по значениям (успех, ошибка, ожидание)</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/StatusText.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
          <YamlModal
            yamlContent={dedent`
              - type: StatusText
                data:
                  id: pod-status

                  # --- Collected values from Pod status -----------------------------------
                  values:
                    # Init containers
                    - "{reqsJsonPath[0]['.status.initContainerStatuses[*].state.waiting.reason']}"
                    - "{reqsJsonPath[0]['.status.initContainerStatuses[*].state.terminated.reason']}"
                    - "{reqsJsonPath[0]['.status.initContainerStatuses[*].lastState.terminated.reason']}"

                    # Main containers
                    - "{reqsJsonPath[0]['.status.containerStatuses[*].state.waiting.reason']}"
                    - "{reqsJsonPath[0]['.status.containerStatuses[*].state.terminated.reason']}"
                    - "{reqsJsonPath[0]['.status.containerStatuses[*].lastState.terminated.reason']}"

                    # Pod phase and general reason
                    - "{reqsJsonPath[0]['.status.phase']}"
                    - "{reqsJsonPath[0]['.status.reason']}"

                    # Condition reasons (PodScheduled / Initialized / ContainersReady / Ready)
                    - "{reqsJsonPath[0]['.status.conditions[*].reason']}"

                  # --- Success criteria ---------------------------------------------------
                  criteriaSuccess: notEquals
                  stategySuccess: every
                  valueToCompareSuccess:
                    - "Preempted"
                    - "Shutdown"
                    - "NodeShutdown"
                    - "DisruptionTarget"
                    - "Unschedulable"
                    - "SchedulingGated"
                    - "ContainersNotReady"
                    - "ContainersNotInitialized"
                    - "BackOff"
                    - "PreStopHookError"
                    - "KillError"
                    - "ContainerStatusUnknown"

                  # --- Error criteria -----------------------------------------------------
                  criteriaError: equals
                  strategyError: every
                  valueToCompareError:
                    - "Failed"
                    - "Unknown"
                    - "Evicted"
                    - "NodeLost"
                    - "UnexpectedAdmissionError"
                    - "SchedulerError"
                    - "FailedScheduling"
                    - "CrashLoopBackOff"
                    - "ImagePullBackOff"
                    - "ErrImagePull"
                    - "ErrImageNeverPull"
                    - "InvalidImageName"
                    - "ImageInspectError"
                    - "CreateContainerConfigError"
                    - "CreateContainerError"
                    - "RunContainerError"
                    - "StartError"
                    - "PostStartHookError"
                    - "ContainerCannotRun"
                    - "OOMKilled"
                    - "Error"
                    - "DeadlineExceeded"
                    - "CreatePodSandboxError"

                  # --- Output text rendering ----------------------------------------------
                  successText:  "{reqsJsonPath[0]['.status.phase']}"
                  errorText:    "Error"
                  fallbackText: "Progressing"
            `}
          />

          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                values: string[] // array of reqsJsonPath
                criteriaSuccess: 'equals' | 'notEquals'
                criteriaError: 'equals' | 'notEquals'
                stategySuccess?: 'some' | 'every' // every - default
                strategyError?: 'some' | 'every' // every - default
                valueToCompareSuccess: unknown[]
                valueToCompareError: unknown[]
                successText: string
                errorText: string
                fallbackText: string
              } & Omit<TextProps, 'id' | 'children'>
            `}
          />
          <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
            <a href="https://ant.design/components/typography#typographytext" target="_blank">TextProps</a>
            <a href="https://ant.design/components/typography#typography-demo-text" target="_blank">Пример</a>
          </div>
        </div>
      </td>
    </tr>

    <tr>
      <td><code>antdLink</code></td>
      <td>Гиперссылка на&nbsp; другой ресурс или маршрут</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/antdLink.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>

          <YamlModal
            yamlContent={dedent`
              - data:
                  href: /openapi-ui/{2}/factory/namespace-details/{reqsJsonPath[0]['.metadata.namespace']['-']}
                  id: namespace-link
                  text: "{reqsJsonPath[0]['.metadata.namespace']['-']}"
                type: antdLink
            `}
          />

          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                text: string
                href: string
              } & Omit<LinkProps, 'id' | 'children' | 'href'>
            `}
          />
          <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
            <a href="https://ant.design/components/typography#typography-demo-text" target="_blank">Пример</a>
          </div>
        </div>
      </td>
    </tr>

    <tr>
      <td><code>antdButton</code></td>
      <td>Кнопка действия с ID, стилями и&nbsp; событиями</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/antdButton.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>

          <YamlModal
            yamlContent={dedent`
              - type: antdFlex
                data:
                  id: qos-class-block
                  vertical: false
                  gap: 2
                children:
                  - type: antdButton
                    data:
                      id: github-button
                      text: "⭐ Star us on GitHub"
                      # type: primary
                      shape: round
                      size: large
                      href: "https://github.com/PRO-Robotech/openapi-ui"
                      target: "_blank"
                      style:
                        backgroundColor: "#24292f"
                        color: "#ffffff"
                        fontWeight: 600
                        padding: "0 20px"
                        boxShadow: "0 2px 8px rgba(0,0,0,0.25)"
                        transition: "all 0.3s"
                        hover:
                          backgroundColor: "#444d56"
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                text: string
              } & Omit<ButtonProps, 'id' | 'children'>
              `}
          />
          <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
            <a href="https://ant.design/components/button#api" target="_blank">ButtonProps</a>
            <a href="https://ant.design/components/button" target="_blank">Пример</a>
          </div>
        </div>
      </td>
    </tr>

    <tr>
      <td><code>KeyCounter</code></td>
      <td>Подсчитывает количество ключей в объекте</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/KeyCounter.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>

          <YamlModal
            yamlContent={dedent`
              - type: KeyCounter
                data:
                  id: annotations-counter
                  text: "~counter~ Annotations"
                  reqIndex: 0
                  jsonPathToObj: ".metadata.annotations"
                  errorText: "No annotations"
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                reqIndex: string
                jsonPathToObj: string
                text: string
                errorText: string
                style?: CSSProperties
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>ItemCounter</code></td>
      <td>Подсчитывает количество элементов в массиве</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/ItemCounter.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>

          <YamlModal
            yamlContent={dedent`
              - type: ItemCounter
                data:
                  id: annotations-counter
                  text: "~counter~ Toleratons"
                  reqIndex: 0
                  jsonPathToObj: ".spec.tolerations"
                  errorText: "No tolerations"
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                reqIndex: string
                jsonPathToArray: string
                text: string
                errorText: string
                style?: CSSProperties
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>ConverterBytes</code></td>
      <td>Конвертирует байты в читаемый размер (КБ, МБ и&nbsp;т.&nbsp;д.)</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/ConverterBytes.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>

          <YamlModal
            yamlContent={dedent`
              - type: ConverterBytes
                data:
                  id: example-converter-bytes
                  bytesValue: "{reqsJsonPath[0]['.sizeBytes']['-']}"
                  format: true
                  precision: 1
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                bytesValue: string // reqs
                unit?: TUnitInput // do not enter if wanna auto format
                /** If true, returns "12.3 GiB" instead of just 12.3 */
                format?: boolean
                /** Max fraction digits when formatting (default 2) */
                precision?: number
                /** Locale for number formatting (default: undefined => user agent) */
                locale?: string
                standard?: 'si' | 'iec'
                notANumberText?: string
                style?: CSSProperties
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>MarketPlace</code></td>
      <td>Отображает доступный набор ресурсов Marketplace для заказа</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/marketplace.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>

          <YamlModal
            yamlContent={dedent`
              - data:
                  baseApiGroup: front.in‑Cloud.io
                  baseApiVersion: v1alpha1
                  baseprefix: openapi-ui
                  cluster: "{2}"
                  id: 311
                  marketplaceKind: MarketplacePanel
                  marketplacePlural: marketplacepanels
                  namespace: "{3}"
                type: MarketplaceCard
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                cluster: string
                namespace: string
                baseApiGroup: string
                baseApiVersion: string
                marketplacePlural: string
                marketplaceKind: string
                baseprefix?: string
                standalone?: boolean
                forceAddedMode?: boolean
                showZeroResources?: boolean
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>SecretBase64Plain</code></td>
      <td>Показывает секрет в base64 или plaintext с глазком</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/SecretBase64Plain.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>

        <YamlModal
          yamlContent={dedent`
            - type: SecretBase64Plain
              data:
                id: example-secterbase64
                base64Value: "{reqsJsonPath[0]['.data.auth']['-']}"
                niceLooking: true
          `}
        />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                base64Value?: string // reqs | one of required
                plainTextValue?: string // reqs | one of required
                containerStyle?: CSSProperties
                inputContainerStyle?: CSSProperties
                flexProps?: Omit<FlexProps, 'children'>
                niceLooking?: boolean
                notificationWidth?: string // default 300px
                notificationText?: string // Text copied to clipboard
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>antdFlex</code></td>
      <td>Контейнер с флекс-раскладкой (по умолчанию вертикальный)</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/antdFlex.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>

          <YamlModal
            yamlContent={dedent`
              - type: antdFlex
                data:
                  id: field-name-block
                  vertical: true
                  gap: 4
                children:
                  - type: antdText
                    data:
                      id: field-name-label
                      strong: true
                      text: "Name"
                  - type: parsedText
                    data:
                      id: field-name-value
                      text: "{reqsJsonPath[0]['.metadata.name']['-']}"
            `}
          />

          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
              } & Omit<FlexProps, 'id' | 'children'>
            `}
          />
          <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
            <a href="https://ant.design/components/flex#api" target="_blank">FlexProps</a>
            <a href="https://ant.design/components/flex" target="_blank">Пример</a>
          </div>
        </div>
      </td>
    </tr>

    <tr>
      <td><code>antdRow</code></td>
      <td>Горизонтальная сетка из колонок</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/antdRow.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>

          <YamlModal
            yamlContent={dedent`
              - type: antdRow
                data:
                  id: details-grid
                  gutter: [48, 12]
                children: []
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
              } & Omit<RowProps, 'id' | 'children'>
            `}
          />
          <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
            <a href="https://ant.design/components/grid#row" target="_blank">RowProps</a>
            <a href="https://ant.design/components/grid" target="_blank">Пример</a>
          </div>
        </div>
      </td>
    </tr>

    <tr>
      <td><code>antdCol</code></td>
      <td>Колонка в рамках строки <code>antdRow</code></td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/antdCol.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>

          <YamlModal
            yamlContent={dedent`
              - type: antdCol
                data:
                  id: details-col-right
                  span: 12
                children: []
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
            {
              id: number | string
            } & Omit<ColProps, 'id' | 'children'>
            `}
          />
          <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
            <a href="https://ant.design/components/grid#col" target="_blank">ColProps</a>
            <a href="https://ant.design/components/grid" target="_blank">Пример</a>
          </div>
        </div>
      </td>
    </tr>

    <tr>
      <td><code>antdTabs</code></td>
      <td>Вкладки с разными дочерними компонентами</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/antdTabs.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
          <YamlModal
            yamlContent={dedent`
              - type: antdTabs
                data:
                  id: tabs-root
                  defaultActiveKey: "details"
                  items:
                    - key: "details"
                      label: "Details"
                      children: []
                    - key: "yaml"
                      label: "Yaml"
                      children: []
                    - key: "logs"
                      label: "Logs"
                      children: []
                    - key: "terminal"
                      label: "Terminal"
                      children: []
                    - key: "reports"
                      label: "Reports"
                      children: []
                    - key: "cfg-reports"
                      label: "CFG Reports"
                      children: []
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
            {
              id: number | string
            } & Omit<TabsProps, 'id' | 'children'>
            `}
          />
          <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
            <a href="https://ant.design/components/tabs#tabs" target="_blank">TabsProps</a>
            <a href="https://ant.design/components/tabs" target="_blank">Пример</a>
          </div>
        </div>
      </td>
    </tr>

    <tr>
      <td><code>antdCard</code></td>
      <td>Обертка в виде карточки с отступами и&nbsp; стилем</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/antdCard.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>

          <YamlModal
            yamlContent={dedent`
              - type: antdCard
                data:
                  id: pod-info-card
                  title: "Secret Info"
                  bordered: true
                  style:
                    marginBottom: 16px
                    padding: 12px
                children:
                  - type: SecretBase64Plain
                    data:
                      id: example-secterbase64
                      base64Value: "{reqsJsonPath[0]['.data.auth']['-']}"
                      niceLooking: true
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
            {
              id: number | string
            } & Omit<CardProps, 'id'>
            `}
          />
          <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
            <a href="https://ant.design/components/card#api" target="_blank">CardProps</a>
            <a href="https://ant.design/components/card" target="_blank">Пример</a>
          </div>
        </div>
      </td>
    </tr>

    <tr>
      <td><code>ContentCard</code></td>
      <td>Визуальная карточка с секцией данных</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/ContentCard.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9рем', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
          <YamlModal
            yamlContent={dedent`
              - type: ContentCard
                data:
                  id: sync-status-card
                  style:
                    marginBottom: 24px
                children: []
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                flexGrow?: number
                displayFlex?: boolean
                flexFlow?: string
                maxHeight?: number
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>Spacer</code></td>
      <td>Добавляет вертикальный отступ между элементами</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/Spacer.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
          <YamlModal
            yamlContent={dedent`
              - type: Spacer
                data:
                  id: details-spacer
                  "$space": 16
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                $space?: number
                $spaceMob?: number
                $samespace?: boolean
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>EnrichedTable</code></td>
      <td>Продвинутая таблица с поддержкой загрузки данных и&nbsp; фильтрации</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/EnrichedTable.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
          <YamlModal
            yamlContent={dedent`
              - type: EnrichedTable
                data:
                  id: resources-table
                  fetchUrl: "/api/clusters/{2}/k8s/apis/argoproj.io/v1alpha1/namespaces/{3}/applications/{6}"
                  cluster: "{2}"
                  customizationId: "factory-argocd-application-status-resources"
                  baseprefix: "/openapi-ui"
                  withoutControls: true
                  pathToItems: ".status.resources"
                  fieldSelector:
                    metadata.namespace: default
                    kind: Pod
                  namespace: "{3}"
                  isNamespaced: true
                  dataForControls:
                    plural: pods
                    apiVersion: v1
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                fetchUrl?: string
                k8sResourceToFetch?: {
                  apiGroup?: string
                  apiVersion: string
                  plural: string
                  namespace?: string
                }
                pathToItems: string | string[] // jsonpath or keys as string[]
                additionalReqsDataToEachItem?: number[]
                cluster: string
                labelsSelector?: Record<string, string>
                labelsSelectorFull?: {
                  reqIndex: number
                  pathToLabels: string | string[] // jsonpath or keys as string[]
                }
                fieldSelector?: Record<string, string>
                baseprefix?: string
                resourceSchema?: TJSON
                dataForControls?: {
                  cluster: string
                  syntheticProject?: string
                  pathPrefix: string
                  apiVersion: string
                  plural: string
                  backlink: string
                  deletePathPrefix: string
                  permissions: {
                    canUpdate?: boolean
                    canDelete?: boolean
                  }
                }
                customizationId?: string
                forceDefaultAdditionalPrinterColumns?: TAdditionalPrinterColumns
                k8sResource?: {
                  plural: string
                  apiGroup?: string
                  apiVersion: string
                }
                namespace?: string
                withoutControls?: boolean
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>VisibilityContainer</code></td>
      <td>Показывает блок при наличии содержимого (обычно из <code>value</code>)</td>
      <td>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>
          <YamlModal
            yamlContent={dedent`
              - type: VisibilityContainer
                data:
                  id: conditions-visibility
                  value: "{reqsJsonPath[0]['.roleRef.kind']['-']}"
                  style:
                    margin: 0
                    padding: 0
                  children: []
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                value: string
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>YamlEditorSingleton</code></td>
      <td>Редактор YAML для одного ресурса (prefill через API)</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/YamlEditorSingleton.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
          <YamlModal
            yamlContent={dedent`
              - key: yaml
                type: YamlEditorSingleton
                label: YAML
                data:
                  apiGroup: apps
                  apiVersion: v1
                  cluster: '{2}'
                  id: yaml-editor
                  isNameSpaced: true
                  prefillValuesRequestIndex: 0
                  substractHeight: 400
                  type: apis
                  plural: deployments
                  readOnly: false
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                cluster: string
                isNameSpaced: boolean
                type: 'builtin' | 'apis'
                apiGroup?: string
                apiVersion?: string
                plural: string
                forcedKind?: string
                prefillValuesRequestIndex: number
                pathToData?: string | string[] // jsonpath or keys as string[]
                substractHeight?: number
                readOnly?: boolean
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>TogglerSegmented</code></td>
      <td>Переключатель с сегментами для выбора одного из нескольких значений</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/TogglerSegmented.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
          <YamlModal
            yamlContent={dedent`
              - type: TogglerSegmented
                data:
                  id: toggler-segmented
                  reqIndex: 0
                  jsonPathToValue: ".spec.togglers.segmentedToggler"
                  notificationSuccessMessage: Updated successfully
                  notificationSuccessMessageDescription: String/exist toggler has been updated
                  notificationErrorMessage: Update error
                  notificationErrorMessageDescription: String/exist toggler has not been updated
                  endpoint: /api/clusters/{2}/k8s/apis/{5}/{6}/{7}/{8}
                  pathToValue: /spec/togglers/segmentedToggler
                  possibleValues:
                    - one
                    - two
                    - three
                  valuesMap:
                    - value: 1
                      renderedValue: one
                    - value: 2
                      renderedValue: two
                    - value: 3
                      renderedValue: three
                  containerStyle:
                    border: "1px solid red"
                    padding: "10px"
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              TogglerSegmented: {
                id: number | string
                reqIndex: string
                jsonPathToValue: string
                notificationSuccessMessage?: string
                notificationErrorMessage?: string
                notificationSuccessMessageDescription?: string
                notificationErrorMessageDescription?: string
                containerStyle?: CSSProperties
                endpoint: string
                pathToValue: string
                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                possibleValues: any[]
                valuesMap?: {
                  // eslint-disable-next-line @typescript-eslint/no-explicit-any
                  value: any
                  renderedValue: string | number
                }[]
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>Toggler</code></td>
      <td>Переключатель для выбора одного из двух значений</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/Toggler.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
          <YamlModal
            yamlContent={dedent`
              - type: Toggler
                data:
                  id: toggler-boolean
                  reqIndex: 0
                  jsonPathToValue: ".spec.togglers.booleanToggler"
                  criteria:
                    type: "forSuccess"
                    operator: "equals"
                    valueToCompare: "true"
                  notificationSuccessMessage: Updated successfully
                  notificationSuccessMessageDescription: Boolean toggler has been updated
                  notificationErrorMessage: Update error
                  notificationErrorMessageDescription: Boolean toggler has not been updated
                  endpoint: /api/clusters/{2}/k8s/apis/{5}/{6}/{7}/{8}
                  pathToValue: /spec/togglers/booleanToggler
                  valueToSubmit:
                    onValue: true
                    offValue: false
                    # toRemoveWhenOff: boolean
                  containerStyle:
                    border: "1px solid red"
                    padding: "10px"
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              Toggler: {
                id: number | string
                reqIndex: string
                jsonPathToValue: string
                criteria: {
                  type: 'forSuccess' | 'forError'
                  operator: 'exists' | 'equals'
                  valueToCompare?: string
                }
                notificationSuccessMessage?: string
                notificationErrorMessage?: string
                notificationSuccessMessageDescription?: string
                notificationErrorMessageDescription?: string
                containerStyle?: CSSProperties
                endpoint: string
                pathToValue: string
                valueToSubmit: {
                  // eslint-disable-next-line @typescript-eslint/no-explicit-any
                  onValue: any
                  // eslint-disable-next-line @typescript-eslint/no-explicit-any
                  offValue?: any
                  toRemoveWhenOff?: boolean
                }
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>OwnerRefs</code></td>
      <td>Ссылки на владельцев ресурсов</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/OwnerRefs.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
          <YamlModal
            yamlContent={dedent`
              - type: OwnerRefs
                data:
                  id: refs
                  baseprefix: /openapi-ui
                  clusterNamePartOfUrl: '{2}'
                  reqIndex: 0
                  errorText: error getting refs
                  notArrayErrorText: refs on path are not arr
                  emptyArrayErrorText: no refs
                  isNotRefsArrayErrorText: objects in arr are not refs
                  containerStyle:
                    border: "1px solid red"
                    padding: "10px"
                  listFlexProps:
                    gap: 10
                  jsonPathToArrayOfRefs: ".spec.customRef"
                  # keysToForcedLabel?: string | string[] // j
                  baseFactoryClusterSceopedAPIKey: base-factory-clusterscoped-api
                  baseFactoryClusterSceopedBuiltinKey: base-factory-clusterscoped-builtin
                  baseFactoryNamespacedAPIKey: base-factory-namespaced-api
                  baseFactoryNamespacedBuiltinKey: base-factory-namespaced-builtin
                  baseNamespaceFactoryKey: namespace-details
                  baseNavigationPluralName: navigations
                  baseNavigationSpecificName: navigation
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              OwnerRefs: {
                id: number | string
                baseprefix?: string
                clusterNamePartOfUrl: string
                reqIndex: string // full object for forced labels
                errorText: string
                notArrayErrorText: string
                emptyArrayErrorText: string
                isNotRefsArrayErrorText: string
                containerStyle?: CSSProperties
                listFlexProps?: FlexProps
                jsonPathToArrayOfRefs: string
                keysToForcedLabel?: string | string[] // jsonpath or keys as string[]
                forcedRelatedValuePath?: string
                baseFactoryNamespacedAPIKey: string
                baseFactoryClusterSceopedAPIKey: string
                baseFactoryNamespacedBuiltinKey: string
                baseFactoryClusterSceopedBuiltinKey: string
                baseNavigationPluralName: string
                baseNavigationSpecificName: string
              }
            `}
          />
        </div>
      </td>
    </tr>


    <tr>
      <td><code>Events</code></td>
      <td>Редактор YAML для одного ресурса (prefill через API)</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/Events.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
          <YamlModal
            yamlContent={dedent`
              - type: Events
                data:
                  id: events
                  baseprefix: "/openapi-ui"
                  cluster: "{2}"
                  wsUrl: "/api/clusters/{2}/openapi-bff-ws/events/eventsWs"
                  pageSize: 50
                  substractHeight: 315
                  limit: 40
                  fieldSelector:
                      metadata.namespace: incloud-argocd
                      regarding.kind: Pod
                  baseFactoryNamespacedAPIKey: base-factory-namespaced-api
                  baseFactoryClusterSceopedAPIKey: base-factory-clusterscoped-api
                  baseFactoryNamespacedBuiltinKey: base-factory-namespaced-builtin
                  baseFactoryClusterSceopedBuiltinKey: base-factory-clusterscoped-builtin
                  baseNamespaceFactoryKey: base-factory-clusterscoped-builtin
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              Events: {
                id: number | string
                baseprefix?: string
                cluster: string
                wsUrl: string
                pageSize?: number
                substractHeight?: number
                limit?: number
                labelSelector?: Record<string, string>
                labelSelectorFull?: {
                  reqIndex: number
                  pathToLabels: string | string[] // jsonpath or keys as string[]
                }
                fieldSelector?: Record<string, string>
                baseFactoryNamespacedAPIKey: string
                baseFactoryClusterSceopedAPIKey: string
                baseFactoryNamespacedBuiltinKey: string
                baseFactoryClusterSceopedBuiltinKey: string
                baseNamespaceFactoryKey: string
                baseNavigationPlural: string
                baseNavigationName: string
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>Labels</code></td>
      <td>Редактируемый список label'ов объекта</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/Labels.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
          <YamlModal
            yamlContent={dedent`
              - type: Labels
                data:
                  containerStyle:
                    marginTop: -30px
                  editModalWidth: 650
                  endpoint: /api/clusters/{2}/k8s/apis/apps/v1/namespaces/{3}/deployments/{6}
                  id: labels-editor
                  inputLabel: ""
                  jsonPathToLabels: .metadata.labels
                  maxEditTagTextLength: 35
                  modalDescriptionText: ""
                  modalTitle: Edit labels
                  notificationSuccessMessage: Updated successfully
                  notificationSuccessMessageDescription: Labels have been updated
                  paddingContainerEnd: 24px
                  pathToValue: /metadata/labels
                  reqIndex: 0
                  selectProps:
                    maxTagTextLength: 35
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                  id: number | string
                  reqIndex: string
                  jsonPathToLabels: string
                  selectProps?: SelectProps
                  readOnly?: true
                  notificationSuccessMessage?: string
                  notificationSuccessMessageDescription?: string
                  modalTitle?: string
                  modalDescriptionText?: string
                  modalDescriptionTextStyle?: CSSProperties
                  inputLabel?: string
                  inputLabelStyle?: CSSProperties
                  containerStyle?: CSSProperties
                  maxEditTagTextLength?: number
                  allowClearEditSelect?: boolean
                  endpoint?: string
                  pathToValue?: string
                  editModalWidth?: number | string
                  paddingContainerEnd?: string
                }
            `}
          />
          <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
            <a href="https://ant.design/components/select#select-props" target="_blank">selectProps</a>
          </div>
        </div>
      </td>
    </tr>

    <tr>
      <td><code>Tolerations</code></td>
      <td>Просмотр и&nbsp; редактирование toleration'ов Pod'а</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/Tolerations.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
          <YamlModal
            yamlContent={dedent`
              - type: Tolerations
                data:
                  cols:
                  - 8
                  - 3
                  - 8
                  - 4
                  - 1
                  editModalWidth: 1000px
                  endpoint: /api/clusters/{2}/k8s/api/v1/namespaces/{3}/pods/{6}
                  errorText: 0 Tolerations
                  id: tolerations
                  inputLabel: ""
                  jsonPathToArray: .spec.tolerations
                  modalDescriptionText: ""
                  modalTitle: Edit tolerations
                  notificationSuccessMessage: Updated successfully
                  notificationSuccessMessageDescription: Tolerations have been
                    updated
                  pathToValue: /spec/tolerations
                  reqIndex: 0
                  text: ~counter~ Tolerations
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                reqIndex: string
                jsonPathToArray: string
                text: string
                errorText: string
                containerStyle?: CSSProperties
                notificationSuccessMessage?: string
                notificationSuccessMessageDescription?: string
                modalTitle?: string
                modalDescriptionText?: string
                modalDescriptionTextStyle?: CSSProperties
                inputLabel?: string
                inputLabelStyle?: CSSProperties
                endpoint?: string
                pathToValue?: string
                editModalWidth?: number | string
                cols: number[] // 5
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>Annotations</code></td>
      <td>Редактируемая таблица аннотаций</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/Annotations.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
          <YamlModal
            yamlContent={dedent`
              - type: Annotations
                data:
                  cols:
                  - 11
                  - 11
                  - 2
                  editModalWidth: 800px
                  endpoint: /api/clusters/{2}/k8s/apis/apps/v1/namespaces/{3}/deployments/{6}
                  errorText: 0 Annotations
                  id: annotations
                  inputLabel: ""
                  jsonPathToObj: .metadata.annotations
                  modalDescriptionText: ""
                  modalTitle: Edit annotations
                  notificationSuccessMessage: Updated successfully
                  notificationSuccessMessageDescription: Annotations have been
                    updated
                  pathToValue: /metadata/annotations
                  reqIndex: 0
                  text: ~counter~ Annotations
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                reqIndex: string
                jsonPathToObj: string
                text: string
                errorText: string
                containerStyle?: CSSProperties
                notificationSuccessMessage?: string
                notificationSuccessMessageDescription?: string
                modalTitle?: string
                modalDescriptionText?: string
                modalDescriptionTextStyle?: CSSProperties
                inputLabel?: string
                inputLabelStyle?: CSSProperties
                endpoint?: string
                pathToValue?: string
                editModalWidth?: number | string
                cols: number[] // 3
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>ArrayOfObjectsToKeyValues</code></td>
      <td>Преобразует массив объектов в список ключ:значение по полям <code>keyFieldName</code> и&nbsp; <code>valueFieldName</code></td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/ArrayOfObjectsToKeyValues.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
          <YamlModal
            yamlContent={dedent`
              - type: ArrayOfObjectsToKeyValues
                data:
                  id: node-address
                  reqIndex: 0
                  jsonPathToArray: ".status.addresses"
                  keyFieldName: type
                  valueFieldName: address
                  keyFieldStyle:
                    color: "#aaabac"
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                reqIndex: string
                jsonPathToArray: string
                keyFieldName: string
                valueFieldName: string
                separator?: string
                containerStyle?: CSSProperties
                rowStyle?: CSSProperties
                keyFieldStyle?: CSSProperties
                valueFieldStyle?: CSSProperties
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>PodLogs</code></td>
      <td>Просмотр логов выбранного Pod'а</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/PodLogs.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
          <YamlModal
            yamlContent={dedent`
              - type: PodLogs
                data:
                  id: pod-logs
                  cluster: "{2}"
                  namespace: "{reqsJsonPath[0]['.metadata.namespace']['-']}"
                  podName: "{reqsJsonPath[0]['.metadata.name']['-']}"
                  substractHeight: 400
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                cluster: string
                namespace: string
                podName: string
                substractHeight?: number
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>PodTerminal</code></td>
      <td>Терминал для exec внутри контейнера Pod'а</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/PodTerminal.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
          <YamlModal
            yamlContent={dedent`
              - type: PodTerminal
                data:
                  id: pod-terminal
                  cluster: "{2}"
                  namespace: "{reqsJsonPath[0]['.metadata.namespace']['-']}"
                  podName: "{reqsJsonPath[0]['.metadata.name']['-']}"
                  substractHeight: 400
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                cluster: string
                namespace: string
                podName: string
                substractHeight?: number
              }
            `}
          />
        </div>
      </td>
    </tr>

    <tr>
      <td><code>NodeTerminal</code></td>
      <td>Exec в отдельный Pod на&nbsp; выбранной ноде</td>
      <td>
        <figure style={{ textAlign: 'center', display: 'contents' }}>
          <FancyboxImage src={`${getBasePrefix()}img/in-cloud/components/NodeTerminal.drawio.svg`} style={{ width: '100%', maxWidth: 'none' }} />
          <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
          </figcaption>
        </figure>
        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginTop: '1rem' }}>
          <YamlModal
            yamlContent={dedent`
              - type: NodeTerminal
                data:
                  id: terminal
                  cluster: "{2}"
                  nodeName: "{reqsJsonPath[0]['.metadata.name']['-']}"
            `}
          />
          <YamlModal
            buttonLabel="Пример структуры"
            yamlContent={dedent`
              {
                id: number | string
                cluster: string
                nodeName: string
                substractHeight?: number
              }
            `}
          />
        </div>
      </td>
    </tr>

  </tbody>
</table>

<h3>Примеры</h3>

<ul>
  <li>
    <a
      href="https://github.com/PRO-Robotech/in-cloud-web-resources/blob/main/templates/Factory/pod-details.yaml"
      target="_blank"
    >
      Factory: pod-details
    </a>
  </li>
  <li>
    <a
      href="https://github.com/PRO-Robotech/in-cloud-web-resources/blob/main/templates/Factory/node-details.yaml"
      target="_blank"
    >
      Factory: node-details
    </a>
  </li>
</ul>

:::info
Компонент <code>Factory</code> является ключевым в визуальной архитектуре in‑Cloud UI. Он&nbsp; дает возможность создавать интерфейс без&nbsp; написания кода.
:::

:::tip
Factory поддерживает версионность API. Вы можете создавать разные Factory-ресурсы с одинаковым ключом, но разными реализациями под&nbsp; нужные кластеры.
:::

---

## CustomFormsOverride

Компонент `CustomFormsOverride` используется для кастомизации динамических форм редактирования ресурсов в интерфейсе in‑Cloud. Он&nbsp; работает поверх OpenAPI-спецификаций и&nbsp; позволяет декларативно переопределять поведение и&nbsp; структуру UI-форм.

<h3>1. Зачем нужен CustomFormsOverride</h3>

:::info
`CustomFormsOverride` создан для того, чтобы стандартная форма, построенная на&nbsp; базе OpenAPI, стала более удобной, лаконичной и&nbsp; безопасной.
:::

Он решает следующие задачи:

- скрывает ненужные или чувствительные поля (например, `metadata`, `status`);
- позволяет переопределить типы и&nbsp; поведение полей;
- добавляет поддержку справочников и&nbsp; зависимостей между полями;
- меняет отображение без&nbsp; пересборки всего UI.

<h3>3. Основные блоки ресурса</h3>

Ресурс `CustomFormsOverride` внутри `spec` логически делится на&nbsp; несколько ключевых блоков:

<table>
  <thead>
    <tr>
      <th>Блок</th>
      <th>Назначение</th>
      <th>Пример</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>customizationId</code>
      </td>
      <td>
        Уникальный идентификатор, по которому UI находит и&nbsp; применяет переопределенную форму к&nbsp; нужному
        ресурсу.
      </td>
      <td></td>
    </tr>
    <tr>
      <td>
        <code>hidden</code>
      </td>
      <td>
        Массив путей до скрываемых полей. Например, <code>["spec", "serviceRef", "apiVersion"]</code>. Позволяет убрать
        из формы технические и&nbsp; чувствительные поля.
      </td>
      <td>
        <YamlModal
          yamlContent={dedent`
          ---
          apiVersion: dashboard.cozystack.io/v1alpha1
          kind: CustomFormsOverride
          metadata:
            name: apps.cozystack.io.v1alpha1.virtualmachines
          spec:
            customizationId: default-/v1/services
            hidden:
            - - appVersion
            - - kind
            - - metadata
            - - spec
        `}
        />
      </td>
    </tr>
    <tr>
      <td>
        <code>sort</code>
      </td>
      <td>
        Массив путей до полей, по которым нужно отсортировать форму. Например,{' '}
        <code>["spec", "serviceRef", "apiVersion"]</code>. Позволяет задать порядок отображения полей в форме.
      </td>
      <td>
        <YamlModal
          yamlContent={dedent`
          ---
          apiVersion: dashboard.cozystack.io/v1alpha1
          kind: CustomFormsOverride
          metadata:
            name: apps.cozystack.io.v1alpha1.virtualmachines
          spec:
            customizationId: default-/v1/services
            sort:
            - - appVersion
            - - kind
            - - metadata
            - - spec
        `}
        />
      </td>
    </tr>
    <tr>
      <td>
        <code>schema</code>
      </td>
      <td>
        Переопределение структуры и&nbsp; поведения формы на&nbsp; базе JSON Schema. Здесь задаются типы, описания,
        required-поля и&nbsp; расширения вроде <code>customProps</code>.
      </td>
      <td></td>
    </tr>
    <tr>
      <td>
        <code>strategy</code>
      </td>
      <td>
        Определяет способ объединения с оригинальной схемой ресурса: <code>merge</code> (объединить) или{' '}
        <code>replace</code> (заменить полностью).
      </td>
      <td></td>
    </tr>
  </tbody>
</table>

<h3>
  4. Что делает блок <code>schema</code>
</h3>

Блок <code>schema</code> используется для переопределения OpenAPI-структуры формы. Он&nbsp; позволяет задать удобную, безопасную и&nbsp; бизнес-ориентированную форму с описаниями, справочниками, обязательными полями и&nbsp; типами.

<table>
  <thead>
    <tr>
      <th>Возможность</th>
      <th>Описание</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>type</code>
      </td>
      <td>
        Базовый тип поля: <code>string</code>, <code>integer</code>, <code>boolean</code>, <code>object</code>,{' '}
        <code>array</code>.
      </td>
    </tr>
    <tr>
      <td>
        <code>description</code>
      </td>
      <td>Подпись и&nbsp; пояснение для поля — отображается как подсказка в UI.</td>
    </tr>
    <tr>
      <td>
        <code>required</code>
      </td>
      <td>Массив обязательных полей. Используется для валидации формы.</td>
    </tr>
    <tr>
      <td>
        <code>enum</code>
      </td>
      <td>Ограничение на&nbsp; набор допустимых значений — автоматически отрисовывается как выпадающий список.</td>
    </tr>
    <tr>
      <td>
        <code>properties</code>
      </td>
      <td>
        Вложенные поля для объектов. Используется при описании <code>type: object</code>.
      </td>
    </tr>
    <tr>
      <td>
        <code>items</code>
      </td>
      <td>
        Схема элемента массива. Используется при <code>type: array</code>.
      </td>
    </tr>
    <tr>
      <td>
        <code>customProps</code>
      </td>
      <td>
        Кастомные расширения in‑Cloud UI для отображения справочников, диапазонов и&nbsp; зависимостей между полями.
      </td>
    </tr>
  </tbody>
</table>

:::tip
Блок <code>schema</code> позволяет настроить поведение формы без&nbsp; пересборки UI.
:::

<h3>6. Кастомные типы полей</h3>

При переопределении схемы в ресурсах <code>CustomFormsOverride</code> доступны нестандартные типы, которые расширяют базовые возможности <code>OpenAPI Schema</code>. Эти типы используются в поле <code>type</code> и&nbsp; активируют специальное поведение в UI.

<table>
  <thead>
    <tr>
      <th>Тип</th>
      <th>Описание</th>
      <th>Пример</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>listInput</code>
      </td>
      <td>
        Кастомный тип для выбора значения из внешнего справочника. В сочетании с <code>customProps</code> позволяет
        подгружать данные по <code>valueUri</code>, отображать и&nbsp; фильтровать их по заданным{' '}
        <code>keysToLabel</code> и&nbsp; <code>keysToValue</code>.
      </td>
      <td>
        <YamlModal
          yamlContent={dedent`
          *******
          schema:
            properties:
              spec:
                properties:
                  namespace:
                    description: Name of the referenced object
                    type: listInput
                    customProps:
                      keysToLabel:
                        - metadata
                        - name
                      keysToValue:
                        - metadata
                        - name
                      mode: tag
                      valueUri: "/api/clusters/{cluster}/k8s/api/v1/namespaces"
                  name:
                    description: Name of the referenced object
                    type: listInput
                    customProps:
                      criteria:
                        keysToValue:
                          - status
                          - isBound
                        type: equals
                        value: false
                      keysToLabel:
                        - metadata
                        - name
                      keysToValue:
                        - metadata
                        - name
                      mode: tag
                      valueUri: "/api/clusters/{cluster}/k8s/apis/netguard.sgroups.io/v1beta1/namespaces/{relatedFieldValue}/hosts"
                      relatedValuePath: "spec.namespace | ./namespace | ../foo/namespace"
        `}
        />
      </td>
    </tr>
    <tr>
      <td>
        <code>rangeInputCpu</code>
      </td>
      <td>
        Тип ввода значений CPU с возможностью задания минимального и&nbsp; максимального диапазона, шага и&nbsp;
        бизнес-логики сравнения. Поддерживает редактирование и&nbsp; агрегацию значений из API-ответов.
      </td>
      <td>
        <YamlModal
          yamlContent={dedent`
          *******
          schema:
            properties:
              spec:
                properties:
                  cpu:
                    customProps:
                      add:
                        max:
                          keysToValue:
                            - status
                            - quotasLeft
                            - k8s
                            - limits
                            - cpu
                          type: resourceValue
                          valueUri: /api/clusters/{cluster}/k8s/apis/example.com/v1alpha/projectquotas/{namespace}
                        min:
                          type: number
                          value: 0
                        step: 0.1
                      edit:
                        max:
                          firstValueUri: /api/clusters/{cluster}/k8s/apis/example.com/v1alpha/projectquotas/{namespace}
                          firstValuesKeysToValue:
                            - status
                            - quotasLeft
                            - k8s
                            - limits
                            - cpu
                          secondValueUri: /api/clusters/{cluster}/k8s/api/v1/namespaces/{plural}/resourcequotas/{plural}-quotas
                          secondValuesKeysToValue:
                            - status
                            - hard
                            - limits.cpu
                          type: addResourceValues
                        min:
                          keysToValue:
                            - status
                            - used
                            - limits.cpu
                          type: resourceValue
                          valueUri: /api/clusters/{cluster}/k8s/api/v1/namespaces/{plural}/resourcequotas/{plural}-quotas
                        step: 0.1
                      logic: cpuLike
                    type: rangeInputCpu
        `}
        />
      </td>
    </tr>
    <tr>
      <td>
        <code>rangeInputMemory</code>
      </td>
      <td>
        Аналогично <code>rangeInputCpu</code>, но используется для управления значениями объема памяти. Позволяет задать
        диапазоны, фильтрацию и&nbsp; зависимости от&nbsp; квот или лимитов в других ресурсах.
      </td>
      <td>
        <YamlModal
          yamlContent={dedent`
          schema:
            properties:
              spec:
                properties:
                  memory:
                    customProps:
                      add:
                        max:
                          keysToValue:
                          - status
                          - quotasLeft
                          - k8s
                          - limits
                          - memory
                          type: resourceValue
                          valueUri: /api/clusters/{cluster}/k8s/apis/example.com/v1alpha/projectquotas/{namespace}
                        min:
                          type: number
                          value: 0
                        step: 0.1
                      edit:
                        max:
                          firstValueUri: /api/clusters/{cluster}/k8s/apis/example.com/v1alpha/projectquotas/{namespace}
                          firstValuesKeysToValue:
                          - status
                          - quotasLeft
                          - k8s
                          - limits
                          - memory
                          secondValueUri: /api/clusters/{cluster}/k8s/api/v1/namespaces/{plural}/resourcequotas/{plural}-quotas
                          secondValuesKeysToValue:
                          - status
                          - hard
                          - limits.memory
                          type: addResourceValues
                        min:
                          keysToValue:
                          - status
                          - used
                          - limits.memory
                          type: resourceValue
                          valueUri: /api/clusters/{cluster}/k8s/api/v1/namespaces/{plural}/resourcequotas/{plural}-quotas
                        step: 0.1
                      logic: memoryLike
                    type: rangeInputMemory
                type: object
        `}
        />
      </td>
    </tr>
  </tbody>
</table>

:::info
Кастомные типы являются расширением стандартных типов <code>string</code>, <code>number</code>, <code>boolean</code> и&nbsp; работают только в рамках UI in‑Cloud.
:::

---

## CustomFormsPrefill

Ресурс <code>CustomFormsPrefill</code> позволяет заранее подставлять значения в кастомные формы UI in‑Cloud.
Это упрощает ввод данных и&nbsp; обеспечивает единообразие при создании ресурсов Kubernetes.

<h3>Пример ресурса</h3>

<CodeBlock language="yaml">
  {dedent`
    ---
    apiVersion: front.in‑Cloud.io/v1alpha1
    kind: CustomFormsPrefill
    metadata:
      name: v1.service
    spec:
      customizationId: stock-namespace-/v1/services
      values:
        - path:
            - metadata
          value:
            name: example-service
            namespace: default
        - path:
            - spec
          value:
            type: ClusterIP
            selector:
              app: my-app
            ports:
              - name: http
                protocol: TCP
                port: 80
                targetPort: 8080
  `}
</CodeBlock>

<h3>Поля ресурса</h3>

<table>
  <thead>
    <tr>
      <th>Поле</th>
      <th>Тип</th>
      <th>Назначение</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>metadata.name</code>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>Уникальное имя ресурса префилла.</td>
    </tr>
    <tr>
      <td>
        <code>spec.customizationId</code>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ID формы, к&nbsp; которой применяется префилл (должен совпадать с <code>CustomForms</code>).
      </td>
    </tr>
    <tr>
      <td>
        <code>spec.values[]</code>
      </td>
      <td>
        <code>array</code>
      </td>
      <td>Массив подстановок для полей формы.</td>
    </tr>
    <tr>
      <td>
        <code>spec.values[].path</code>
      </td>
      <td>
        <code>string[]</code>
      </td>
      <td>
        Путь до поля объекта в виде массива ключей (например, <code>["spec","ports"]</code>).
      </td>
    </tr>
    <tr>
      <td>
        <code>spec.values[].value</code>
      </td>
      <td>
        <code>any</code>
      </td>
      <td>Значение для подстановки (строка, число, объект или массив).</td>
    </tr>
  </tbody>
</table>

## Search

Страница <code>Search</code> предназначена для поиска ресурсов Kubernetes по имени, типу, лейблам и кастомным полям в рамках выбранного кластера.

Она доступна из бокового меню интерфейса и также поддерживает callback-ссылки из форм создания и редактирования ресурсов, что позволяет быстро перейти к списку найденных объектов после выполнения операций.

#### Пути доступа

<details>
  <summary>Доступные маршруты</summary>

<ul>
  <li>
    <code>{`/openapi-ui/{cluster}/{namespace}/search`}</code> — поиск с указанием пространства имён.
  </li>
  <li>
    <code>{`/openapi-ui/{cluster}/search`}</code> — глобальный поиск по кластеру.
  </li>
</ul>

</details>

<figure style={{ textAlign: 'center', display: 'contents' }}>
  <FancyboxImage
    src={`${getBasePrefix()}img/in-cloud/interfaces/search.drawio.svg`}
    style={{ width: '100%', maxWidth: 'none' }}
  />
  <figcaption style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666', textAlign: 'center' }}>
    Схема взаимодействия интерфейса страницы <code>Search</code> с кластером Kubernetes
  </figcaption>
</figure>

:::note
Страница <code>Search</code> является частью общей системы визуализации Factory и использует единый механизм отображения данных, включая поддержку фильтрации, подсветку совпадений и контекстные переходы.
:::

---

:::info Информация

> Что-то непонятно или нашли ошибку? Напишите нам — поможем разобраться.

<div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem', marginTop: '1rem' }}>
  <div style={{ display: 'flex', alignItems: 'center' }}>
    <img
      src={`${getBasePrefix()}img/icons/contact_icons-email.svg`}
      alt="Email"
      width="24"
      height="24"
      style={{ marginRight: '0.5rem',marginTop: '-1rem'}}
    />
    <a
      href="mailto:info@prorobotech.ru"
      target="_blank"
    >
      info@prorobotech.ru
    </a>
  </div>

  <div style={{ display: 'flex', alignItems: 'center' }}>
    <img
      src={`${getBasePrefix()}img/icons/contact_icons-tg.svg`}
      alt="Telegram"
      width="24"
      height="24"
      style={{ marginRight: '0.5rem',marginTop: '-1rem'}}
    />
    <a
      href="https://t.me/prt_architecture"
      target="_blank"
    >
      @prt_architecture
    </a>
  </div>
</div>

:::
